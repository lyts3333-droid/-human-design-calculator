# 完整測試步驟 - 網頁版本

## 當前狀態

您已經成功打開了網頁界面！現在需要啟動後端伺服器。

## 解決「無法連接到伺服器」的步驟

### 方法一：使用批次檔（最簡單）⭐

1. **在「人類圖」資料夾中，雙擊 `啟動伺服器.bat`**

   或

2. **使用命令提示字元**：
   - 打開命令提示字元（Win+R → 輸入 `cmd`）
   - 切換到資料夾：
     ```bash
     cd "C:\Users\a0929\OneDrive\桌面\CURSOR\人類圖"
     ```
   - 運行：
     ```bash
     python app.py
     ```

### 方法二：使用 PowerShell

```powershell
cd "C:\Users\a0929\OneDrive\桌面\CURSOR\人類圖"
python app.py
```

## 啟動成功後您應該看到

伺服器啟動後，終端會顯示類似以下的信息：

```
============================================================
人類圖計算器 API 伺服器
============================================================

伺服器正在啟動...
訪問地址: http://localhost:5000

API 端點:
  GET  /          - 前端頁面
  POST /calculate_hd - 計算人類圖數據
  GET  /health    - 健康檢查

按 Ctrl+C 停止伺服器

============================================================
 * Running on http://0.0.0.0:5000
 * Debug mode: on
```

## 然後在瀏覽器中測試

1. **保持伺服器運行**（不要關閉命令提示字元窗口）

2. **在瀏覽器中**：
   - 如果已經打開了 `index.html`，直接點擊「計算人類圖」按鈕
   - 或訪問：`http://localhost:5000`

3. **輸入數據並測試**：
   - 年份：1990
   - 月份：5
   - 日期：15
   - 時間：14:30
   - 點擊「計算人類圖」按鈕

4. **應該看到**：
   - 左側：SVG 圖表，中心和通道會根據結果著色
   - 右側：類型、策略、權威等文字結果
   - 錯誤訊息消失

## 如果還是無法連接

### 檢查 1：確認伺服器正在運行

查看命令提示字元窗口，應該看到 "Running on http://..." 的訊息。

### 檢查 2：確認已安裝 Flask

如果啟動時出現錯誤，可能是沒有安裝 Flask：

```bash
cd "C:\Users\a0929\OneDrive\桌面\CURSOR\人類圖"
pip install Flask flask-cors
```

### 檢查 3：確認端口沒有被占用

如果端口 5000 被占用，可以修改 `app.py` 最後一行：

```python
app.run(debug=True, host='0.0.0.0', port=5001)  # 改成 5001
```

然後在瀏覽器訪問 `http://localhost:5001`

### 檢查 4：檢查瀏覽器控制台

按 F12 打開開發者工具，查看 Console 標籤是否有錯誤訊息。

## 快速測試清單

- [ ] 已切換到「人類圖」資料夾
- [ ] 已安裝 Flask（`pip install Flask flask-cors`）
- [ ] 伺服器已啟動（看到 "Running on..." 訊息）
- [ ] 瀏覽器訪問 `http://localhost:5000` 或已打開 index.html
- [ ] 輸入數據後點擊「計算人類圖」按鈕
- [ ] 看到計算結果（圖表和文字）

## 預期結果

成功時應該看到：

1. **左側圖表**：
   - SVG 圖表中的中心和通道會根據計算結果變成藍色（已定義）或灰色（未定義）

2. **右側結果**：
   - 輸入數據：1990-05-15 14:30
   - 人類圖類型：例如 Generator（生產者）
   - 人生策略：例如 Wait to Respond（等待回應）
   - 內在權威：例如 Emotional Authority（情緒權威）
   - 能量中心狀態表格：顯示每個中心的定義狀態

3. **錯誤訊息消失**，顯示成功訊息

## 停止伺服器

在命令提示字元窗口中按 `Ctrl + C` 可以停止伺服器。















