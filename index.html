<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
    <title>äººé¡åœ–è¨ˆç®—å™¨ - Web æ‡‰ç”¨</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft JhengHei', 'å¾®è»Ÿæ­£é»‘é«”', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .content {
            padding: 30px;
        }

        .input-section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .input-section h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.8em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .form-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-item {
            display: flex;
            flex-direction: column;
        }

        .form-item label {
            margin-bottom: 8px;
            font-weight: bold;
            color: #333;
        }

        .form-item input,
        .form-item select {
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s;
            background: white;
            position: relative;
            z-index: 1;
            cursor: pointer;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
        }

        .form-item input:focus,
        .form-item select:focus {
            outline: none;
            border-color: #667eea;
        }

        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-primary:active {
            transform: translateY(0);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .results-section {
            display: grid;
            grid-template-columns: 1fr 1.6fr;
            gap: 30px;
            margin-top: 30px;
        }

        @media (max-width: 1024px) {
            .results-section {
                grid-template-columns: 1fr;
            }
        }

        .section {
            background: 
                linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%),
                radial-gradient(circle at 20% 50%, rgba(100, 200, 255, 0.06) 0%, transparent 50%),
                radial-gradient(circle at 80% 50%, rgba(100, 255, 200, 0.06) 0%, transparent 50%),
                radial-gradient(circle at 50% 20%, rgba(255, 200, 100, 0.06) 0%, transparent 50%),
                radial-gradient(circle at 50% 80%, rgba(255, 100, 200, 0.06) 0%, transparent 50%);
            background-size: 
                100% 100%,
                300px 300px,
                300px 300px,
                300px 300px,
                300px 300px;
            background-position: 
                0% 0%,
                0% 0%,
                100% 100%,
                50% 0%,
                50% 100%;
            background-repeat: no-repeat;
            border-radius: 15px;
            padding: 25px;
            position: relative;
        }

        .section h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.6em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        /* Body Graph å®¹å™¨æ¨£å¼ - ä½¿ç”¨ Grid ä½ˆå±€ï¼ˆåƒ…å·¦å³å…©æ¬„ï¼‰ */
        #body-graph-container {
            width: 100%;
            height: auto;
            min-height: 600px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            background: 
                linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%),
                radial-gradient(circle at 20% 50%, rgba(100, 200, 255, 0.06) 0%, transparent 50%),
                radial-gradient(circle at 80% 50%, rgba(100, 255, 200, 0.06) 0%, transparent 50%),
                radial-gradient(circle at 50% 20%, rgba(255, 200, 100, 0.06) 0%, transparent 50%),
                radial-gradient(circle at 50% 80%, rgba(255, 100, 200, 0.06) 0%, transparent 50%);
            background-size: 
                100% 100%,
                300px 300px,
                300px 300px,
                300px 300px,
                300px 300px;
            background-position: 
                0% 0%,
                0% 0%,
                100% 100%,
                50% 0%,
                50% 100%;
            background-repeat: no-repeat;
            border-radius: 10px;
            padding: 20px;
            position: relative;
        }

        @media (max-width: 768px) {
            #body-graph-container {
                grid-template-columns: 1fr;
                grid-template-rows: auto auto;
            }
        }

        /* å´é‚Šæ¬„æ¨£å¼ */
        .planet-sidebar {
            display: flex;
            flex-direction: column;
            border-radius: 10px;
            padding: 20px;
        }

        .sidebar-design {
            background: #ffe6e6;  /* æ·ºç´…åº•è‰² */
            border: 2px solid #ff9999;
        }

        .sidebar-personality {
            background: #f0f0f0;  /* æ·ºç°åº•è‰² */
            border: 2px solid #cccccc;
        }

        .sidebar-title {
            font-size: 1.6em;
            font-weight: bold;
            text-align: center;
            margin-bottom: 18px;
            padding: 13px;
            border-radius: 8px;
            color: #333;
        }

        .sidebar-design .sidebar-title {
            background: rgba(255, 200, 200, 0.5);
            color: #8b0000;
        }

        .sidebar-personality .sidebar-title {
            background: rgba(200, 200, 200, 0.5);
            color: #333;
        }

        /* è¡Œæ˜Ÿåˆ—è¡¨é … */
        .planet-item {
            display: flex;
            align-items: center;
            padding: 14px 12px;
            margin-bottom: 12px;
            border-radius: 8px;
            transition: background 0.2s;
            font-size: 1.25em;
        }

        .planet-item:hover {
            background: rgba(255, 255, 255, 0.5);
        }

        .planet-icon {
            width: 42px;
            height: 42px;
            margin-right: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.6em;
            border-radius: 50%;
            flex-shrink: 0;
            line-height: 1;
        }

        .sidebar-design .planet-icon {
            background: #ffcccc;
            color: #8b0000;
        }

        .sidebar-personality .planet-icon {
            background: #d0d0d0;
            color: #333;
        }

        .planet-name {
            flex: 0 0 90px;
            font-weight: 500;
            font-size: 1.2em;
        }

        .planet-gate-line {
            flex: 0 0 115px;
            text-align: center;
            font-weight: bold;
            font-family: 'Courier New', monospace;
            display: flex;
            align-items: baseline;
            justify-content: center;
            gap: 3px;
        }

        .gate-number {
            font-size: 1.5em;
            font-weight: 700;
            color: #333;
        }
        
        .sidebar-design .gate-number {
            color: #8b0000;  /* æ·±ç´…è‰² */
        }

        .gate-separator {
            font-size: 1.5em;
            color: #999;
        }

        .line-number {
            font-size: 1em;
            color: #666;
            font-weight: 500;
        }
        
        /* æ˜Ÿåº§ç¬¦è™Ÿæ¨£å¼ */
        .zodiac-symbol {
            font-size: 1.4em;
            margin-right: 5px;
            color: #667eea;
            font-weight: bold;
        }
        
        /* å‡é™·ç®­é ­æ¨£å¼ */
        .arrow-ascending {
            color: #28a745;  /* ç¶ è‰² */
            font-size: 1.3em;
            margin-left: 5px;
            font-weight: bold;
            display: inline-block;
        }
        
        .arrow-descending {
            color: #dc3545;  /* ç´…è‰² */
            font-size: 1.3em;
            margin-left: 5px;
            font-weight: bold;
            display: inline-block;
        }

        .planet-sign {
            flex: 1;
            text-align: right;
            font-size: 1.2em;
            color: #666;
        }

        #body-graph {
            width: 100%;
            max-width: 600px;
            height: auto;
        }

        /* èƒ½é‡ä¸­å¿ƒæ¨£å¼ */
        .energy-center {
            stroke: #333;
            stroke-width: 2;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .energy-center.defined {
            fill: #4a90e2;
            stroke: #2c5aa0;
            stroke-width: 3;
        }

        .energy-center.undefined {
            fill: #e8e8e8;
            stroke: #999;
            stroke-width: 2;
        }

        .energy-center:hover {
            filter: brightness(1.1);
        }

        /* é€šé“æ¨£å¼ */
        .channel {
            stroke: #ccc;
            stroke-width: 2;
            fill: none;
            transition: all 0.3s ease;
        }

        .channel.defined {
            stroke: #4a90e2;
            stroke-width: 4;
        }

        .channel.undefined {
            stroke: #e0e0e0;
            stroke-width: 2;
            stroke-dasharray: 5,5;
        }

        /* ä¸­å¿ƒæ¨™ç±¤ */
        .center-label {
            font-size: 12px;
            font-weight: bold;
            fill: #333;
            pointer-events: none;
            text-anchor: middle;
        }

        .center-label.defined {
            fill: white;
        }

        /* çµæœè¡¨æ ¼æ¨£å¼ */
        .results-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .results-table th {
            background: #667eea;
            color: white;
            padding: 15px;
            text-align: left;
            font-size: 1.1em;
        }

        .results-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #e0e0e0;
        }

        .results-table tr:hover {
            background: #f0f0f0;
        }

        .status-badge {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
        }

        .status-defined {
            background: #4a90e2;
            color: white;
        }

        .status-undefined {
            background: #e8e8e8;
            color: #666;
        }

        .type-badge {
            display: inline-block;
            padding: 12px 25px;
            border-radius: 25px;
            font-size: 1.4em;
            font-weight: bold;
            color: white;
            margin: 5px 0;
        }

        .type-generator {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .type-manifestor {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .type-projector {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        .type-reflector {
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
        }

        .info-box {
            background: white;
            border-left: 4px solid #667eea;
            padding: 18px;
            margin: 18px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .info-box.highlight-box {
            border-left-color: #f59e0b;
            background: linear-gradient(135deg, #fff9e6 0%, #ffffff 100%);
        }

        .info-box.warning-box {
            border-left-color: #ef4444;
            background: linear-gradient(135deg, #fef2f2 0%, #ffffff 100%);
        }

        .info-box h3 {
            color: #667eea;
            margin-bottom: 12px;
            font-size: 1.6em;
            font-weight: 600;
        }

        .info-box.highlight-box h3 {
            color: #f59e0b;
        }

        .info-box.warning-box h3 {
            color: #ef4444;
        }

        .info-box p {
            color: #666;
            line-height: 1.8;
            font-size: 1.4em;
            margin: 0;
        }

        .profile-badge {
            display: inline-block;
            font-size: 3em;
            font-weight: bold;
            color: #f59e0b;
            font-family: 'Courier New', monospace;
            background: white;
            padding: 15px 25px;
            border-radius: 8px;
            border: 2px solid #f59e0b;
            box-shadow: 0 2px 4px rgba(245, 158, 11, 0.2);
        }

        .strategy-text, .authority-text, .definition-text {
            font-weight: 500;
            color: #333;
            font-size: 1.5em;
        }

        .theme-text {
            font-weight: 600;
            color: #ef4444;
            font-size: 1.5em;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #666;
        }

        .error-message {
            background: #f8d7da;
            color: #721c24;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #dc3545;
        }

        .success-message {
            background: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #28a745;
        }

        .hidden {
            display: none;
        }

        .hidden-field {
            display: none !important;
        }
        
        
        /* åœ“å½¢äººé¡åœ–è¡¨æ¨£å¼ */
        
        /* åŸºå› å¤©å‘½ (Gene Keys) æ¨£å¼ - 5x5 ç¶²æ ¼ç³»çµ± */
        #gene-keys-section {
            margin-top: 40px;
        }
        
        #gene-keys-container {
            position: relative;
            width: 100%;
            min-height: 1200px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 15px;
            padding: 40px;
            overflow: visible;
            display: flex;
            justify-content: center;
            align-items: center;
            touch-action: pan-x pan-y pinch-zoom; /* å…è¨±æ©«å‘æ»‘å‹•èˆ‡é›™æŒ‡ç¸®æ”¾ */
        }
        
        /* ç”Ÿå‘½ä¹‹èŠ±èƒŒæ™¯åœ–æ¡ˆ */
        #gene-keys-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 20% 50%, rgba(100, 200, 255, 0.03) 0%, transparent 50%),
                radial-gradient(circle at 80% 50%, rgba(100, 255, 200, 0.03) 0%, transparent 50%),
                radial-gradient(circle at 50% 20%, rgba(255, 200, 100, 0.03) 0%, transparent 50%),
                radial-gradient(circle at 50% 80%, rgba(255, 100, 200, 0.03) 0%, transparent 50%);
            background-size: 300px 300px, 300px 300px, 300px 300px, 300px 300px;
            background-position: 0% 0%, 100% 100%, 50% 0%, 50% 100%;
            background-repeat: no-repeat;
            opacity: 0.4;
            z-index: 0;
        }
        
        .gene-keys-wrapper {
            position: relative;
            width: 900px;
            height: 900px;
            margin: -20px auto 0 -30px;
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            grid-template-rows: repeat(5, 1fr);
            gap: 100px;
            z-index: 10;
            align-items: center;
            justify-items: center;
            padding: 60px;
        }
        
        .gene-keys-svg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
        }
        
        /* ç¢ºä¿ SVG é€£ç·šåœ¨çƒé«”ä¸‹æ–¹ */
        .gene-keys-svg {
            z-index: 0;
        }
        
        .gene-keys-wrapper {
            z-index: 10;
        }
        
        .gene-keys-svg path {
            fill: none;
        }
        
        .gene-key-sphere {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            display: grid;
            grid-template-columns: 1fr 2fr 1fr;
            grid-template-rows: 1fr 2fr 1fr;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
            position: relative;
            z-index: 10;
            padding: 5px;
            box-sizing: border-box;
        }
        
        .gene-key-sphere:hover {
            box-shadow: 0 6px 25px rgba(0, 0, 0, 0.3);
        }
        
        /* å°æ–¼æ²’æœ‰è‡ªå®šç¾© transform çš„çƒé«”ï¼Œhover æ™‚æ‡‰ç”¨ scale */
        .gene-key-sphere:not([data-transform]):hover {
            transform: scale(1.15);
        }
        
        /* å°æ–¼æœ‰è‡ªå®šç¾© transform çš„çƒé«”ï¼Œhover æ™‚åœ¨åŸæœ‰ transform åŸºç¤ä¸ŠåŠ ä¸Š scale */
        .gene-key-sphere[data-transform]:hover {
            transform: var(--original-transform);
        }
        
        .gene-key-sphere.blue {
            /* çç åºåˆ— - å¯¶è—è‰²ç³» */
            background: radial-gradient(circle at 30% 30%, #3498db, #21618c);
            color: white;
        }
        
        .gene-key-sphere.green {
            /* å•Ÿå‹•åºåˆ— - ç¶ è‰²æ”¾å°„ç‹€æ¼¸å±¤ */
            background: radial-gradient(circle at 30% 30%, #76a07b, #2d4d32);
            color: white;
        }
        
        .gene-key-sphere.orange {
            /* é‡‘æ˜Ÿåºåˆ— - æ·±ç´…/é…’ç´…è‰²ç³» */
            background: radial-gradient(circle at 30% 30%, #c0392b, #7b241c);
            color: white;
        }
        
        .gene-key-gate {
            font-size: 2em;
            font-weight: 900;
            line-height: 1;
            text-align: center;
            position: relative;
            color: #ffffff;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .gene-key-line {
            position: absolute;
            bottom: 8px;
            right: 12px;
            font-size: 0.75em;
            font-weight: 600;
            color: #cccccc;
            opacity: 0.8;
        }
        
        .gene-key-label {
            font-size: 0.75em;
            text-align: center;
            margin-top: 5px;
            font-weight: 600;
            line-height: 1.2;
            color: #ffffff;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }
        
        .gene-key-desc {
            font-size: 0.65em;
            text-align: center;
            margin-top: 2px;
            opacity: 0.85;
            font-style: italic;
            color: #e0e0e0;
        }
        
        /* åŸºå› å¤©å‘½çƒé«”ä½¿ç”¨èˆ‡åœ“å½¢åœ–è¡¨ç›¸åŒçš„æ–‡å­—æ ¼å¼ */
        .gene-key-sphere .planet-marker-name {
            grid-column: 1 / 4;
            grid-row: 1;
            font-size: 0.7em;
            text-align: center;
            font-weight: 600;
            align-self: center;
        }
        
        .gene-key-sphere .planet-marker-house {
            grid-column: 1;
            grid-row: 2;
            font-size: 0.7em;
            text-align: center;
            align-self: center;
            justify-self: center;
        }
        
        .gene-key-sphere .planet-marker-gate {
            grid-column: 2;
            grid-row: 2;
            font-size: 2.5em;
            font-weight: 900;
            text-align: center;
            align-self: center;
            justify-self: center;
        }
        
        .gene-key-sphere .planet-marker-line {
            grid-column: 3;
            grid-row: 2;
            font-size: 0.7em;
            text-align: center;
            align-self: center;
            justify-self: center;
        }
        
        .gene-key-sphere .planet-marker-zodiac {
            grid-column: 1 / 4;
            grid-row: 3;
            font-size: 0.65em;
            text-align: center;
            align-self: center;
        }
        
        /* ç¢ºä¿æ–‡å­—é¡è‰²æ­£ç¢ºï¼ˆä½¿ç”¨ç™½è‰²æ–‡å­—ï¼‰ */
        .gene-key-sphere .planet-marker-name,
        .gene-key-sphere .planet-marker-gate,
        .gene-key-sphere .planet-marker-line,
        .gene-key-sphere .planet-marker-zodiac {
            color: #ffffff;
        }
        
        .gene-key-sphere.green .planet-marker-name,
        .gene-key-sphere.green .planet-marker-gate,
        .gene-key-sphere.green .planet-marker-line,
        .gene-key-sphere.green .planet-marker-zodiac {
            color: #ffffff;
        }
        
        .gene-key-sphere.blue .planet-marker-name,
        .gene-key-sphere.blue .planet-marker-gate,
        .gene-key-sphere.blue .planet-marker-line,
        .gene-key-sphere.blue .planet-marker-zodiac {
            color: #ffffff;
        }
        
        .gene-key-sphere.orange .planet-marker-name,
        .gene-key-sphere.orange .planet-marker-gate,
        .gene-key-sphere.orange .planet-marker-line,
        .gene-key-sphere.orange .planet-marker-zodiac {
            color: #ffffff;
        }

        /* ==================== æ‰‹æ©Ÿç‰ˆ RWD éŸ¿æ‡‰å¼ä½ˆå±€ ==================== */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .header {
                padding: 20px 15px;
            }

            .header h1 {
                font-size: 1.6em;
            }

            .header p {
                font-size: 0.95em;
            }

            .content {
                padding: 15px;
            }

            .input-section {
                padding: 15px;
            }

            .input-section h2 {
                font-size: 1.4em;
            }

            /* è¡¨å–®å„ªåŒ–ï¼šåŠ å¤§é»æ“Šå€åŸŸ */
            .form-group {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .form-item input,
            .form-item select {
                padding: 16px 14px;
                font-size: 16px; /* é˜²æ­¢ iOS ç¸®æ”¾ */
                min-height: 50px;
                position: relative;
                z-index: 10;
                touch-action: manipulation; /* æ”¹å–„è§¸æ§éŸ¿æ‡‰ */
                -webkit-tap-highlight-color: rgba(102, 126, 234, 0.3);
            }

            .form-item label {
                font-size: 1.05em;
                margin-bottom: 6px;
            }

            /* æŒ‰éˆ•åŠ å¤§ */
            .button-group {
                flex-direction: column;
                gap: 12px;
            }

            .btn {
                padding: 18px 30px;
                font-size: 1.15em;
                width: 100%;
                min-height: 56px;
            }

            /* çµæœå€åŸŸï¼šå‚ç›´å †ç–Š */
            .results-section {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .section {
                padding: 15px;
            }

            .section h2 {
                font-size: 1.3em;
            }

            /* Body Graph å®¹å™¨ï¼šå‚ç›´å †ç–Š */
            #body-graph-container {
                grid-template-columns: 1fr;
                grid-template-rows: auto auto;
                gap: 15px;
                min-height: auto;
                padding: 15px;
            }

            /* å´é‚Šæ¬„æ¨£å¼èª¿æ•´ */
            .planet-sidebar {
                padding: 15px;
            }

            .sidebar-title {
                font-size: 1.3em;
                padding: 10px;
                margin-bottom: 12px;
            }

            .planet-item {
                padding: 10px 8px;
                margin-bottom: 8px;
                font-size: 1em;
            }

            .planet-icon {
                width: 32px;
                height: 32px;
                font-size: 1.3em;
                margin-right: 10px;
            }

            .planet-name {
                flex: 0 0 60px;
                font-size: 0.95em;
            }

            .planet-gate-line {
                flex: 0 0 90px;
            }

            .gate-number {
                font-size: 1.2em;
            }

            .gate-separator {
                font-size: 1.2em;
            }

            .line-number {
                font-size: 0.85em;
            }

            .zodiac-symbol {
                font-size: 1.1em;
            }

            .arrow-ascending,
            .arrow-descending {
                font-size: 1em;
            }

            .planet-sign {
                font-size: 0.9em;
            }

            /* åŸºå› å¤©å‘½å€å¡Šï¼šæ‰‹æ©Ÿç‰ˆå…è¨±æ©«å‘æ»¾å‹• */
            #gene-keys-container {
                min-height: auto;
                padding: 15px 5px;
                overflow-x: auto;
                overflow-y: hidden;
                -webkit-overflow-scrolling: touch; /* iOS å¹³æ»‘æ»¾å‹• */
                scrollbar-width: thin; /* Firefox */
                display: block; /* ç¢ºä¿å®¹å™¨ä½”æ»¿å¯¬åº¦ä»¥ä¾¿è§¸ç™¼æ²è»¸ */
                touch-action: pan-x pan-y pinch-zoom; /* å…è¨±æ©«å‘æ»‘å‹•èˆ‡é›™æŒ‡ç¸®æ”¾ */
            }

            /* è‡ªå®šç¾©æ»¾å‹•æ¢æ¨£å¼ï¼ˆWebkit ç€è¦½å™¨ï¼‰ */
            #gene-keys-container::-webkit-scrollbar {
                height: 8px;
            }

            #gene-keys-container::-webkit-scrollbar-track {
                background: #f1f1f1;
                border-radius: 10px;
            }

            #gene-keys-container::-webkit-scrollbar-thumb {
                background: #667eea;
                border-radius: 10px;
            }

            #gene-keys-container::-webkit-scrollbar-thumb:hover {
                background: #764ba2;
            }

            .gene-keys-container-wrapper {
                width: auto !important;
                min-width: 100% !important;
                height: auto !important;
                margin: 0 auto !important;
                position: relative;
            }

            .gene-keys-wrapper {
                width: auto !important;
                min-width: 800px !important; /* å¼·åˆ¶å…§å®¹å¯¬åº¦ï¼Œç¢ºä¿åœ¨æ‰‹æ©Ÿå°è¢å¹•ä¸Šç”¢ç”Ÿæ²è»¸è®“ç”¨æˆ¶æ»‘å‹• */
                height: auto !important;
                min-height: 500px !important;
                margin: 0 auto !important;
                gap: 8px !important;
                padding: 10px 5px !important;
                box-sizing: border-box;
                display: block; /* ç¢ºä¿å®¹å™¨ä½”æ»¿å¯¬åº¦ä»¥ä¾¿è§¸ç™¼æ²è»¸ */
            }

            /* æ‰‹æ©Ÿç‰ˆçƒé«”ï¼šå›ºå®šå°ºå¯¸ï¼Œç¢ºä¿åœ–è¡¨å®Œæ•´ */
            .gene-key-sphere {
                width: 80px;
                height: 80px;
                padding: 2px;
                box-sizing: border-box;
                flex-shrink: 0; /* é˜²æ­¢çƒé«”è¢«å£“ç¸® */
            }

            .gene-key-sphere .planet-marker-name {
                font-size: 0.45em;
                line-height: 1;
            }

            .gene-key-sphere .planet-marker-gate {
                font-size: 1.2em;
                line-height: 1;
            }

            .gene-key-sphere .planet-marker-line {
                font-size: 0.4em;
                line-height: 1;
            }

            .gene-key-sphere .planet-marker-zodiac {
                font-size: 0.4em;
                line-height: 1;
            }

            /* SVG é€£ç·šèª¿æ•´ */
            .gene-keys-svg {
                width: 100% !important;
                height: 100% !important;
                max-width: 100% !important;
            }

            /* Info box èª¿æ•´ */
            .info-box {
                padding: 14px;
                margin: 12px 0;
            }

            .info-box h3 {
                font-size: 1.2em;
            }

            .info-box p {
                font-size: 1.1em;
            }

            .profile-badge {
                font-size: 2em;
                padding: 10px 18px;
            }

            .type-badge {
                font-size: 1.1em;
                padding: 10px 20px;
            }

            .strategy-text,
            .authority-text,
            .definition-text,
            .theme-text {
                font-size: 1.15em;
            }
        }

        /* æ›´å°è¢å¹•ï¼ˆå°æ–¼ 480pxï¼‰çš„é¡å¤–èª¿æ•´ */
        @media (max-width: 480px) {
            .header h1 {
                font-size: 1.4em;
            }

            .gene-keys-wrapper {
                gap: 6px !important;
                padding: 8px 3px !important;
                min-width: 450px !important; /* æ›´å°è¢å¹•ä¹Ÿä¿æŒæœ€å°å¯¬åº¦ */
            }

            .gene-key-sphere {
                width: 70px !important;
                height: 70px !important;
                flex-shrink: 0 !important;
            }

            .gene-key-sphere .planet-marker-name {
                font-size: 0.4em;
            }

            .gene-key-sphere .planet-marker-gate {
                font-size: 1em;
            }

            .gene-key-sphere .planet-marker-line {
                font-size: 0.35em;
            }

            .gene-key-sphere .planet-marker-zodiac {
                font-size: 0.35em;
            }

            .planet-name {
                flex: 0 0 50px;
                font-size: 0.85em;
            }

            .planet-gate-line {
                flex: 0 0 75px;
            }

            .planet-icon {
                width: 28px;
                height: 28px;
                font-size: 1.1em;
                margin-right: 8px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸŒŸ äººé¡åœ–è¨ˆç®—å™¨</h1>
            <p>Human Design Calculator - Web Application</p>
        </div>

        <div class="content">
            <!-- è¼¸å…¥è¡¨å–®å€åŸŸ -->
            <div class="input-section">
                <h2>è¼¸å…¥å‡ºç”Ÿè³‡æ–™</h2>
                <form id="birth-form">
                    <div class="form-group">
                        <div class="form-item">
                            <label for="year">å¹´ä»½ (Year)</label>
                            <input type="number" id="year" name="year" min="1900" max="2100" 
                                   required placeholder="ä¾‹å¦‚ï¼š2002">
                        </div>
                        <div class="form-item">
                            <label for="month">æœˆä»½ (Month)</label>
                            <input type="number" id="month" name="month" min="1" max="12" 
                                   required placeholder="ä¾‹å¦‚ï¼š9">
                        </div>
                        <div class="form-item">
                            <label for="day">æ—¥æœŸ (Day)</label>
                            <input type="number" id="day" name="day" min="1" max="31" 
                                   required placeholder="ä¾‹å¦‚ï¼š21">
                        </div>
                        <div class="form-item">
                            <label for="time">æ™‚é–“ (Time)</label>
                            <input type="time" id="time" name="time" 
                                   required>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="form-item">
                            <label for="country">åœ‹å®¶/åœ°å€ (Country/Region)</label>
                            <select id="country" name="country" required>
                                <option value="">è«‹é¸æ“‡åœ‹å®¶/åœ°å€</option>
                                <option value="TW">å°ç£</option>
                                <option value="CN">ä¸­åœ‹å¤§é™¸</option>
                            </select>
                        </div>
                        <div class="form-item">
                            <label for="county">ç¸£å¸‚/çœä»½ (County/Province)</label>
                            <select id="county" name="county" required>
                                <option value="">è«‹å…ˆé¸æ“‡åœ‹å®¶/åœ°å€</option>
                            </select>
                        </div>
                        <div class="form-item">
                            <label for="district">å€åŸŸ/åŸå¸‚ (District/City)</label>
                            <select id="district" name="district" required>
                                <option value="">è«‹å…ˆé¸æ“‡ç¸£å¸‚/çœä»½</option>
                            </select>
                        </div>
                    </div>
                    <!-- éš±è—æ¬„ä½ï¼šä½¿ç”¨ data å±¬æ€§å­˜å„²ï¼Œä¸åƒèˆ‡è¡¨å–®é©—è­‰ -->
                    <input type="hidden" id="timezone" value="Asia/Shanghai">
                    <input type="hidden" id="longitude" value="121.5">
                    <input type="hidden" id="latitude" value="25.0">
                    <div class="button-group">
                        <button type="submit" class="btn btn-primary" id="calculate-btn">
                            è¨ˆç®—äººé¡åœ–
                        </button>
                        <button type="button" class="btn btn-secondary" id="reset-btn">
                            é‡ç½®
                        </button>
                    </div>
                </form>
                <div id="message-area"></div>
            </div>

            <!-- çµæœé¡¯ç¤ºå€åŸŸ -->
            <div id="results-container" class="hidden">
                <div class="results-section">
                    <!-- è¡Œæ˜Ÿåˆ—è¡¨é¡¯ç¤ºå€åŸŸ -->
                    <div class="section">
                        <h2>è¡Œæ˜Ÿé–˜é–€èˆ‡çˆ»ç·š</h2>
                        <div id="body-graph-container">
                            <!-- å·¦å´æ¬„ï¼šDesignï¼ˆæ½›æ„è­˜/ç´…è‰²ï¼‰ -->
                            <div class="planet-sidebar sidebar-design" id="design-sidebar">
                                <div class="sidebar-title">æ½›æ„è­˜ (Design)</div>
                                <div id="design-planet-list">
                                    <div class="loading" style="text-align: center; padding: 20px; color: #666;">
                                        ç­‰å¾…æ•¸æ“š...
                                    </div>
                                </div>
                            </div>

                            <!-- å³å´æ¬„ï¼šPersonalityï¼ˆæ„è­˜/ç°è‰²ï¼‰ -->
                            <div class="planet-sidebar sidebar-personality" id="personality-sidebar">
                                <div class="sidebar-title">æ„è­˜ (Personality)</div>
                                <div id="personality-planet-list">
                                    <div class="loading" style="text-align: center; padding: 20px; color: #666;">
                                        ç­‰å¾…æ•¸æ“š...
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- åˆ†æçµæœå€å¡Šå·²ç§»é™¤ -->
                </div>
                
                <!-- åŸºå› å¤©å‘½ (Gene Keys) é»ƒé‡‘ä¹‹è·¯å€å¡Š -->
                <div class="section" id="gene-keys-section" style="display: none; margin-top: 30px;">
                    <h2>åŸºå› å¤©å‘½ (Gene Keys) - é»ƒé‡‘ä¹‹è·¯</h2>
                    <div id="gene-keys-container">
                        <div class="loading">ç­‰å¾…è¨ˆç®—çµæœ...</div>
                    </div>
                </div>
                
            </div>
        </div>
    </div>

    <script>
        // å°ç£ç¸£å¸‚å’Œå€åŸŸæ•¸æ“šï¼ˆåŒ…å«ç¶“ç·¯åº¦ï¼‰
        const taiwanLocations = {
            "è‡ºåŒ—å¸‚": {
                "ä¸­æ­£å€": { longitude: 121.5194, latitude: 25.0324 },
                "å¤§åŒå€": { longitude: 121.5138, latitude: 25.0626 },
                "ä¸­å±±å€": { longitude: 121.5277, latitude: 25.0642 },
                "æ¾å±±å€": { longitude: 121.5769, latitude: 25.0575 },
                "å¤§å®‰å€": { longitude: 121.5439, latitude: 25.0259 },
                "è¬è¯å€": { longitude: 121.5004, latitude: 25.0315 },
                "ä¿¡ç¾©å€": { longitude: 121.5717, latitude: 25.0330 },
                "å£«æ—å€": { longitude: 121.5267, latitude: 25.0924 },
                "åŒ—æŠ•å€": { longitude: 121.4988, latitude: 25.1327 },
                "å…§æ¹–å€": { longitude: 121.5889, latitude: 25.0696 },
                "å—æ¸¯å€": { longitude: 121.6075, latitude: 25.0543 },
                "æ–‡å±±å€": { longitude: 121.5700, latitude: 24.9891 }
            },
            "æ–°åŒ—å¸‚": {
                "æ¿æ©‹å€": { longitude: 121.4591, latitude: 25.0081 },
                "ä¸‰é‡å€": { longitude: 121.4849, latitude: 25.0621 },
                "ä¸­å’Œå€": { longitude: 121.4924, latitude: 24.9965 },
                "æ°¸å’Œå€": { longitude: 121.5136, latitude: 25.0118 },
                "æ–°èŠå€": { longitude: 121.4426, latitude: 25.0335 },
                "æ–°åº—å€": { longitude: 121.5377, latitude: 24.9564 },
                "æ¨¹æ—å€": { longitude: 121.4244, latitude: 24.9910 },
                "é¶¯æ­Œå€": { longitude: 121.3545, latitude: 24.9551 },
                "ä¸‰å³½å€": { longitude: 121.3690, latitude: 24.9341 },
                "æ·¡æ°´å€": { longitude: 121.4434, latitude: 25.1674 },
                "æ±æ­¢å€": { longitude: 121.6560, latitude: 25.0677 },
                "ç‘èŠ³å€": { longitude: 121.8056, latitude: 25.1092 },
                "åœŸåŸå€": { longitude: 121.4449, latitude: 24.9733 },
                "è˜†æ´²å€": { longitude: 121.4737, latitude: 25.0831 },
                "äº”è‚¡å€": { longitude: 121.4367, latitude: 25.0834 },
                "æ³°å±±å€": { longitude: 121.4286, latitude: 25.0576 },
                "æ—å£å€": { longitude: 121.3897, latitude: 25.0779 },
                "æ·±å‘å€": { longitude: 121.6152, latitude: 25.0019 },
                "çŸ³ç¢‡å€": { longitude: 121.6608, latitude: 24.9915 },
                "åªæ—å€": { longitude: 121.7121, latitude: 24.9371 },
                "ä¸‰èŠå€": { longitude: 121.5012, latitude: 25.2584 },
                "çŸ³é–€å€": { longitude: 121.5681, latitude: 25.2912 },
                "å…«é‡Œå€": { longitude: 121.3990, latitude: 25.1469 },
                "å¹³æºªå€": { longitude: 121.7806, latitude: 25.0256 },
                "é›™æºªå€": { longitude: 121.8657, latitude: 25.0385 },
                "è²¢å¯®å€": { longitude: 121.9225, latitude: 25.0215 },
                "é‡‘å±±å€": { longitude: 121.6384, latitude: 25.2211 },
                "è¬é‡Œå€": { longitude: 121.6895, latitude: 25.1793 },
                "çƒä¾†å€": { longitude: 121.5510, latitude: 24.8632 }
            },
            "æ¡ƒåœ’å¸‚": {
                "æ¡ƒåœ’å€": { longitude: 121.3010, latitude: 24.9936 },
                "ä¸­å£¢å€": { longitude: 121.2249, latitude: 24.9544 },
                "å¤§æºªå€": { longitude: 121.2868, latitude: 24.8844 },
                "æ¥Šæ¢…å€": { longitude: 121.1462, latitude: 24.9087 },
                "è˜†ç«¹å€": { longitude: 121.2933, latitude: 25.0479 },
                "å¤§åœ’å€": { longitude: 121.1995, latitude: 25.0649 },
                "é¾œå±±å€": { longitude: 121.3397, latitude: 25.0179 },
                "å…«å¾·å€": { longitude: 121.2840, latitude: 24.9267 },
                "é¾æ½­å€": { longitude: 121.2124, latitude: 24.8633 },
                "å¹³é®å€": { longitude: 121.2180, latitude: 24.9453 },
                "æ–°å±‹å€": { longitude: 121.0618, latitude: 24.9696 },
                "è§€éŸ³å€": { longitude: 121.0794, latitude: 25.0317 },
                "å¾©èˆˆå€": { longitude: 121.3526, latitude: 24.8182 }
            },
            "è‡ºä¸­å¸‚": {
                "ä¸­å€": { longitude: 120.6790, latitude: 24.1418 },
                "æ±å€": { longitude: 120.6972, latitude: 24.1388 },
                "å—å€": { longitude: 120.6614, latitude: 24.1261 },
                "è¥¿å€": { longitude: 120.6634, latitude: 24.1446 },
                "åŒ—å€": { longitude: 120.6792, latitude: 24.1582 },
                "è¥¿å±¯å€": { longitude: 120.6384, latitude: 24.1788 },
                "å—å±¯å€": { longitude: 120.6432, latitude: 24.1346 },
                "åŒ—å±¯å€": { longitude: 120.6976, latitude: 24.1834 },
                "è±åŸå€": { longitude: 120.7207, latitude: 24.2518 },
                "æ±å‹¢å€": { longitude: 120.8274, latitude: 24.2587 },
                "å¤§ç”²å€": { longitude: 120.6224, latitude: 24.3457 },
                "æ¸…æ°´å€": { longitude: 120.5693, latitude: 24.2686 },
                "æ²™é¹¿å€": { longitude: 120.5657, latitude: 24.2337 },
                "æ¢§æ£²å€": { longitude: 120.5306, latitude: 24.2548 },
                "åé‡Œå€": { longitude: 120.7299, latitude: 24.3095 },
                "ç¥å²¡å€": { longitude: 120.6614, latitude: 24.2568 },
                "æ½­å­å€": { longitude: 120.7050, latitude: 24.2118 },
                "å¤§é›…å€": { longitude: 120.6500, latitude: 24.2272 },
                "æ–°ç¤¾å€": { longitude: 120.8098, latitude: 24.2344 },
                "çŸ³å²¡å€": { longitude: 120.7779, latitude: 24.2746 },
                "å¤–åŸ”å€": { longitude: 120.6538, latitude: 24.3319 },
                "å¤§å®‰å€": { longitude: 120.5866, latitude: 24.3456 },
                "çƒæ—¥å€": { longitude: 120.6234, latitude: 24.1048 },
                "å¤§è‚šå€": { longitude: 120.5444, latitude: 24.1477 },
                "é¾äº•å€": { longitude: 120.5454, latitude: 24.1883 },
                "éœ§å³°å€": { longitude: 120.6986, latitude: 24.0615 },
                "å¤ªå¹³å€": { longitude: 120.7185, latitude: 24.1262 },
                "å¤§é‡Œå€": { longitude: 120.6794, latitude: 24.0989 },
                "å’Œå¹³å€": { longitude: 121.0210, latitude: 24.3103 }
            },
            "è‡ºå—å¸‚": {
                "ä¸­è¥¿å€": { longitude: 120.1960, latitude: 22.9924 },
                "æ±å€": { longitude: 120.2280, latitude: 22.9812 },
                "å—å€": { longitude: 120.1883, latitude: 22.9473 },
                "åŒ—å€": { longitude: 120.2089, latitude: 23.0103 },
                "å®‰å¹³å€": { longitude: 120.1628, latitude: 22.9872 },
                "å®‰å—å€": { longitude: 120.1587, latitude: 23.0460 },
                "æ°¸åº·å€": { longitude: 120.2579, latitude: 23.0268 },
                "æ­¸ä»å€": { longitude: 120.2938, latitude: 22.9691 },
                "æ–°åŒ–å€": { longitude: 120.3097, latitude: 23.0372 },
                "å·¦é®å€": { longitude: 120.4084, latitude: 23.0571 },
                "ç‰äº•å€": { longitude: 120.4614, latitude: 23.1233 },
                "æ¥ è¥¿å€": { longitude: 120.4844, latitude: 23.1838 },
                "å—åŒ–å€": { longitude: 120.4770, latitude: 23.0422 },
                "ä»å¾·å€": { longitude: 120.2513, latitude: 22.9696 },
                "é—œå»Ÿå€": { longitude: 120.3268, latitude: 22.9622 },
                "é¾å´å€": { longitude: 120.3605, latitude: 22.9584 },
                "å®˜ç”°å€": { longitude: 120.3164, latitude: 23.1936 },
                "éº»è±†å€": { longitude: 120.2474, latitude: 23.1814 },
                "ä½³é‡Œå€": { longitude: 120.1732, latitude: 23.1673 },
                "è¥¿æ¸¯å€": { longitude: 120.2032, latitude: 23.1229 },
                "ä¸ƒè‚¡å€": { longitude: 120.1088, latitude: 23.1342 },
                "å°‡è»å€": { longitude: 120.1272, latitude: 23.2044 },
                "å­¸ç”²å€": { longitude: 120.1802, latitude: 23.2324 },
                "åŒ—é–€å€": { longitude: 120.1251, latitude: 23.2672 },
                "æ–°ç‡Ÿå€": { longitude: 120.3159, latitude: 23.3078 },
                "å¾Œå£å€": { longitude: 120.3636, latitude: 23.3651 },
                "ç™½æ²³å€": { longitude: 120.4165, latitude: 23.3506 },
                "æ±å±±å€": { longitude: 120.4084, latitude: 23.3264 },
                "å…­ç”²å€": { longitude: 120.3714, latitude: 23.2306 },
                "ä¸‹ç‡Ÿå€": { longitude: 120.2644, latitude: 23.2331 },
                "æŸ³ç‡Ÿå€": { longitude: 120.3103, latitude: 23.2781 },
                "é¹½æ°´å€": { longitude: 120.2663, latitude: 23.3201 },
                "å–„åŒ–å€": { longitude: 120.2963, latitude: 23.1314 },
                "å¤§å…§å€": { longitude: 120.4134, latitude: 23.1194 },
                "å±±ä¸Šå€": { longitude: 120.3552, latitude: 23.1033 },
                "æ–°å¸‚å€": { longitude: 120.2952, latitude: 23.0789 },
                "å®‰å®šå€": { longitude: 120.2362, latitude: 23.1214 }
            },
            "é«˜é›„å¸‚": {
                "æ–°èˆˆå€": { longitude: 120.3094, latitude: 22.6308 },
                "å‰é‡‘å€": { longitude: 120.2924, latitude: 22.6278 },
                "è‹“é›…å€": { longitude: 120.3204, latitude: 22.6208 },
                "é¹½åŸ•å€": { longitude: 120.2844, latitude: 22.6258 },
                "é¼“å±±å€": { longitude: 120.2754, latitude: 22.6308 },
                "æ——æ´¥å€": { longitude: 120.2844, latitude: 22.6108 },
                "å‰é®å€": { longitude: 120.3174, latitude: 22.5988 },
                "ä¸‰æ°‘å€": { longitude: 120.3184, latitude: 22.6458 },
                "å·¦ç‡Ÿå€": { longitude: 120.2944, latitude: 22.6878 },
                "æ¥ æ¢“å€": { longitude: 120.3264, latitude: 22.7308 },
                "å°æ¸¯å€": { longitude: 120.3574, latitude: 22.5658 },
                "é³³å±±å€": { longitude: 120.3564, latitude: 22.6278 },
                "æ—åœ’å€": { longitude: 120.3934, latitude: 22.5088 },
                "å¤§å¯®å€": { longitude: 120.3934, latitude: 22.6058 },
                "å¤§æ¨¹å€": { longitude: 120.4324, latitude: 22.6978 },
                "å¤§ç¤¾å€": { longitude: 120.3644, latitude: 22.7278 },
                "ä»æ­¦å€": { longitude: 120.3474, latitude: 22.7018 },
                "é³¥æ¾å€": { longitude: 120.3744, latitude: 22.6608 },
                "å²¡å±±å€": { longitude: 120.2944, latitude: 22.7978 },
                "æ©‹é ­å€": { longitude: 120.3094, latitude: 22.7578 },
                "ç‡•å·¢å€": { longitude: 120.3614, latitude: 22.7938 },
                "ç”°å¯®å€": { longitude: 120.3934, latitude: 22.8678 },
                "é˜¿è“®å€": { longitude: 120.3274, latitude: 22.8778 },
                "è·¯ç«¹å€": { longitude: 120.2634, latitude: 22.8538 },
                "æ¹–å…§å€": { longitude: 120.2294, latitude: 22.9078 },
                "èŒ„è£å€": { longitude: 120.1824, latitude: 22.9078 },
                "æ°¸å®‰å€": { longitude: 120.2244, latitude: 22.8178 },
                "å½Œé™€å€": { longitude: 120.2454, latitude: 22.7838 },
                "æ¢“å®˜å€": { longitude: 120.2654, latitude: 22.7578 },
                "æ——å±±å€": { longitude: 120.4814, latitude: 22.8888 },
                "ç¾æ¿ƒå€": { longitude: 120.5474, latitude: 22.8938 },
                "å…­é¾œå€": { longitude: 120.6334, latitude: 22.9978 },
                "ç”²ä»™å€": { longitude: 120.5914, latitude: 23.0778 },
                "æ‰æ—å€": { longitude: 120.5354, latitude: 22.9578 },
                "å…§é–€å€": { longitude: 120.4714, latitude: 22.9438 },
                "èŒ‚æ—å€": { longitude: 120.6634, latitude: 22.8878 },
                "æ¡ƒæºå€": { longitude: 120.7584, latitude: 23.1878 },
                "é‚£ç‘ªå¤å€": { longitude: 120.6924, latitude: 23.2278 }
            },
            "åŸºéš†å¸‚": {
                "ä»æ„›å€": { longitude: 121.7444, latitude: 25.1278 },
                "ä¿¡ç¾©å€": { longitude: 121.7654, latitude: 25.1298 },
                "ä¸­æ­£å€": { longitude: 121.7754, latitude: 25.1388 },
                "ä¸­å±±å€": { longitude: 121.7394, latitude: 25.1488 },
                "å®‰æ¨‚å€": { longitude: 121.7244, latitude: 25.1478 },
                "æš–æš–å€": { longitude: 121.7394, latitude: 25.0988 },
                "ä¸ƒå µå€": { longitude: 121.6814, latitude: 25.0978 }
            },
            "æ–°ç«¹å¸‚": {
                "æ±å€": { longitude: 120.9754, latitude: 24.8088 },
                "åŒ—å€": { longitude: 120.9564, latitude: 24.8188 },
                "é¦™å±±å€": { longitude: 120.9244, latitude: 24.7588 }
            },
            "æ–°ç«¹ç¸£": {
                "ç«¹åŒ—å¸‚": { longitude: 120.9954, latitude: 24.8288 },
                "æ¹–å£é„‰": { longitude: 121.0444, latitude: 24.8978 },
                "æ–°è±é„‰": { longitude: 120.9844, latitude: 24.8978 },
                "æ–°åŸ”é®": { longitude: 121.0744, latitude: 24.8378 },
                "é—œè¥¿é®": { longitude: 121.1744, latitude: 24.7978 },
                "èŠæ—é„‰": { longitude: 121.0744, latitude: 24.7778 },
                "å¯¶å±±é„‰": { longitude: 120.9844, latitude: 24.7578 },
                "ç«¹æ±é®": { longitude: 121.0944, latitude: 24.7278 },
                "äº”å³°é„‰": { longitude: 121.1344, latitude: 24.6278 },
                "æ©«å±±é„‰": { longitude: 121.1544, latitude: 24.7278 },
                "å°–çŸ³é„‰": { longitude: 121.3044, latitude: 24.7078 },
                "åŒ—åŸ”é„‰": { longitude: 121.0544, latitude: 24.6978 },
                "å³¨çœ‰é„‰": { longitude: 121.0044, latitude: 24.6778 }
            },
            "è‹—æ —ç¸£": {
                "è‹—æ —å¸‚": { longitude: 120.8194, latitude: 24.5678 },
                "è‹‘è£¡é®": { longitude: 120.6544, latitude: 24.4478 },
                "é€šéœ„é®": { longitude: 120.6764, latitude: 24.4978 },
                "ç«¹å—é®": { longitude: 120.8744, latitude: 24.6878 },
                "é ­ä»½å¸‚": { longitude: 120.8944, latitude: 24.6878 },
                "å¾Œé¾é®": { longitude: 120.7864, latitude: 24.6178 },
                "å“è˜­é®": { longitude: 120.8244, latitude: 24.3078 },
                "å¤§æ¹–é„‰": { longitude: 120.8544, latitude: 24.4278 },
                "å…¬é¤¨é„‰": { longitude: 120.8244, latitude: 24.4978 },
                "éŠ…é‘¼é„‰": { longitude: 120.7844, latitude: 24.4878 },
                "å—åº„é„‰": { longitude: 121.0044, latitude: 24.5978 },
                "é ­å±‹é„‰": { longitude: 120.8444, latitude: 24.5778 },
                "ä¸‰ç¾©é„‰": { longitude: 120.7644, latitude: 24.4078 },
                "è¥¿æ¹–é„‰": { longitude: 120.7544, latitude: 24.5578 },
                "é€ æ©‹é„‰": { longitude: 120.8644, latitude: 24.6378 },
                "ä¸‰ç£é„‰": { longitude: 120.9544, latitude: 24.6478 },
                "ç…æ½­é„‰": { longitude: 120.9244, latitude: 24.5378 },
                "æ³°å®‰é„‰": { longitude: 121.0844, latitude: 24.4378 }
            },
            "å½°åŒ–ç¸£": {
                "å½°åŒ–å¸‚": { longitude: 120.5394, latitude: 24.0778 },
                "é¹¿æ¸¯é®": { longitude: 120.4344, latitude: 24.0578 },
                "å’Œç¾é®": { longitude: 120.5044, latitude: 24.1078 },
                "ç·šè¥¿é„‰": { longitude: 120.4644, latitude: 24.1278 },
                "ä¼¸æ¸¯é„‰": { longitude: 120.4844, latitude: 24.1578 },
                "ç¦èˆˆé„‰": { longitude: 120.4444, latitude: 24.0478 },
                "ç§€æ°´é„‰": { longitude: 120.5044, latitude: 24.0378 },
                "èŠ±å£‡é„‰": { longitude: 120.5444, latitude: 24.0278 },
                "èŠ¬åœ’é„‰": { longitude: 120.6244, latitude: 24.0178 },
                "å“¡æ—å¸‚": { longitude: 120.5744, latitude: 23.9578 },
                "æºªæ¹–é®": { longitude: 120.4744, latitude: 23.9578 },
                "ç”°ä¸­é®": { longitude: 120.5944, latitude: 23.8578 },
                "å¤§æ‘é„‰": { longitude: 120.5444, latitude: 23.9878 },
                "åŸ”é¹½é„‰": { longitude: 120.4644, latitude: 23.9978 },
                "åŸ”å¿ƒé„‰": { longitude: 120.5344, latitude: 23.9578 },
                "æ°¸é–é„‰": { longitude: 120.5444, latitude: 23.9278 },
                "ç¤¾é ­é„‰": { longitude: 120.5844, latitude: 23.8978 },
                "äºŒæ°´é„‰": { longitude: 120.6144, latitude: 23.8078 },
                "åŒ—æ–—é®": { longitude: 120.5244, latitude: 23.8778 },
                "äºŒæ—é®": { longitude: 120.3744, latitude: 23.8978 },
                "ç”°å°¾é„‰": { longitude: 120.5244, latitude: 23.8878 },
                "åŸ¤é ­é„‰": { longitude: 120.4644, latitude: 23.8878 },
                "èŠ³è‹‘é„‰": { longitude: 120.3244, latitude: 23.9278 },
                "å¤§åŸé„‰": { longitude: 120.3144, latitude: 23.8578 },
                "ç«¹å¡˜é„‰": { longitude: 120.4244, latitude: 23.8578 },
                "æºªå·é„‰": { longitude: 120.4944, latitude: 23.8378 }
            },
            "å—æŠ•ç¸£": {
                "å—æŠ•å¸‚": { longitude: 120.6844, latitude: 23.9078 },
                "åŸ”é‡Œé®": { longitude: 120.9644, latitude: 23.9678 },
                "è‰å±¯é®": { longitude: 120.6844, latitude: 23.9778 },
                "ç«¹å±±é®": { longitude: 120.6844, latitude: 23.7578 },
                "é›†é›†é®": { longitude: 120.7844, latitude: 23.8278 },
                "åé–“é„‰": { longitude: 120.7044, latitude: 23.8378 },
                "é¹¿è°·é„‰": { longitude: 120.7644, latitude: 23.7478 },
                "ä¸­å¯®é„‰": { longitude: 120.7644, latitude: 23.8778 },
                "é­šæ± é„‰": { longitude: 120.9244, latitude: 23.8978 },
                "åœ‹å§“é„‰": { longitude: 120.8444, latitude: 24.0278 },
                "æ°´é‡Œé„‰": { longitude: 120.8544, latitude: 23.8078 },
                "ä¿¡ç¾©é„‰": { longitude: 120.8544, latitude: 23.6978 },
                "ä»æ„›é„‰": { longitude: 121.1344, latitude: 24.0278 }
            },
            "é›²æ—ç¸£": {
                "æ–—å…­å¸‚": { longitude: 120.5444, latitude: 23.7078 },
                "æ–—å—é®": { longitude: 120.4844, latitude: 23.6778 },
                "è™å°¾é®": { longitude: 120.4344, latitude: 23.7078 },
                "è¥¿èºé®": { longitude: 120.4644, latitude: 23.7978 },
                "åœŸåº«é®": { longitude: 120.3844, latitude: 23.6778 },
                "åŒ—æ¸¯é®": { longitude: 120.3044, latitude: 23.5778 },
                "å¤å‘é„‰": { longitude: 120.5644, latitude: 23.6478 },
                "å¤§åŸ¤é„‰": { longitude: 120.4344, latitude: 23.6478 },
                "è¿æ¡é„‰": { longitude: 120.5044, latitude: 23.7578 },
                "æ—å…§é„‰": { longitude: 120.6144, latitude: 23.7578 },
                "äºŒå´™é„‰": { longitude: 120.4144, latitude: 23.7878 },
                "å´™èƒŒé„‰": { longitude: 120.3544, latitude: 23.7578 },
                "éº¥å¯®é„‰": { longitude: 120.2644, latitude: 23.7478 },
                "æ±å‹¢é„‰": { longitude: 120.2544, latitude: 23.6778 },
                "è¤’å¿ é„‰": { longitude: 120.3144, latitude: 23.6978 },
                "è‡ºè¥¿é„‰": { longitude: 120.2044, latitude: 23.7078 },
                "å…ƒé•·é„‰": { longitude: 120.3144, latitude: 23.6478 },
                "å››æ¹–é„‰": { longitude: 120.2244, latitude: 23.6378 },
                "å£æ¹–é„‰": { longitude: 120.1844, latitude: 23.5878 },
                "æ°´æ—é„‰": { longitude: 120.2444, latitude: 23.5678 }
            },
            "å˜‰ç¾©å¸‚": {
                "æ±å€": { longitude: 120.4544, latitude: 23.4878 },
                "è¥¿å€": { longitude: 120.4344, latitude: 23.4778 }
            },
            "å˜‰ç¾©ç¸£": {
                "å¤ªä¿å¸‚": { longitude: 120.3444, latitude: 23.4678 },
                "æœ´å­å¸‚": { longitude: 120.2444, latitude: 23.4678 },
                "å¸ƒè¢‹é®": { longitude: 120.1544, latitude: 23.3878 },
                "å¤§æ—é®": { longitude: 120.4544, latitude: 23.6078 },
                "æ°‘é›„é„‰": { longitude: 120.4344, latitude: 23.5578 },
                "æºªå£é„‰": { longitude: 120.3944, latitude: 23.6078 },
                "æ–°æ¸¯é„‰": { longitude: 120.3444, latitude: 23.5578 },
                "å…­è…³é„‰": { longitude: 120.2744, latitude: 23.5078 },
                "æ±çŸ³é„‰": { longitude: 120.1544, latitude: 23.4578 },
                "ç¾©ç«¹é„‰": { longitude: 120.2444, latitude: 23.3378 },
                "é¹¿è‰é„‰": { longitude: 120.3044, latitude: 23.4078 },
                "æ°´ä¸Šé„‰": { longitude: 120.3944, latitude: 23.4278 },
                "ä¸­åŸ”é„‰": { longitude: 120.5244, latitude: 23.4278 },
                "ç«¹å´é„‰": { longitude: 120.5544, latitude: 23.5078 },
                "æ¢…å±±é„‰": { longitude: 120.5644, latitude: 23.5778 },
                "ç•ªè·¯é„‰": { longitude: 120.5644, latitude: 23.4778 },
                "å¤§åŸ”é„‰": { longitude: 120.5944, latitude: 23.2978 },
                "é˜¿é‡Œå±±é„‰": { longitude: 120.7444, latitude: 23.5078 }
            },
            "å±æ±ç¸£": {
                "å±æ±å¸‚": { longitude: 120.4944, latitude: 22.6778 },
                "æ½®å·é®": { longitude: 120.5444, latitude: 22.5478 },
                "æ±æ¸¯é®": { longitude: 120.4544, latitude: 22.4678 },
                "æ†æ˜¥é®": { longitude: 120.7444, latitude: 22.0078 },
                "è¬ä¸¹é„‰": { longitude: 120.4844, latitude: 22.5878 },
                "é•·æ²»é„‰": { longitude: 120.5244, latitude: 22.6878 },
                "éºŸæ´›é„‰": { longitude: 120.5244, latitude: 22.6478 },
                "ä¹å¦‚é„‰": { longitude: 120.4944, latitude: 22.7278 },
                "é‡Œæ¸¯é„‰": { longitude: 120.4944, latitude: 22.7778 },
                "é¹½åŸ”é„‰": { longitude: 120.5644, latitude: 22.7578 },
                "é«˜æ¨¹é„‰": { longitude: 120.5944, latitude: 22.8278 },
                "è¬å·’é„‰": { longitude: 120.5644, latitude: 22.5778 },
                "å…§åŸ”é„‰": { longitude: 120.5644, latitude: 22.6178 },
                "ç«¹ç”°é„‰": { longitude: 120.5244, latitude: 22.5778 },
                "æ–°åŸ¤é„‰": { longitude: 120.5444, latitude: 22.4778 },
                "æ‹å¯®é„‰": { longitude: 120.5944, latitude: 22.3778 },
                "æ–°åœ’é„‰": { longitude: 120.4544, latitude: 22.5378 },
                "å´é ‚é„‰": { longitude: 120.5144, latitude: 22.5078 },
                "æ—é‚Šé„‰": { longitude: 120.5144, latitude: 22.4378 },
                "å—å·é„‰": { longitude: 120.5144, latitude: 22.4878 },
                "ä½³å†¬é„‰": { longitude: 120.5444, latitude: 22.4178 },
                "ç‰çƒé„‰": { longitude: 120.3744, latitude: 22.3478 },
                "è»ŠåŸé„‰": { longitude: 120.7144, latitude: 22.0678 },
                "æ»¿å·é„‰": { longitude: 120.8144, latitude: 22.0278 },
                "æ‹å±±é„‰": { longitude: 120.6544, latitude: 22.2578 },
                "ä¸‰åœ°é–€é„‰": { longitude: 120.6544, latitude: 22.7178 },
                "éœ§å°é„‰": { longitude: 120.7344, latitude: 22.7478 },
                "ç‘ªå®¶é„‰": { longitude: 120.6544, latitude: 22.6478 },
                "æ³°æ­¦é„‰": { longitude: 120.6344, latitude: 22.5878 },
                "ä¾†ç¾©é„‰": { longitude: 120.6744, latitude: 22.5278 },
                "æ˜¥æ—¥é„‰": { longitude: 120.6244, latitude: 22.3778 },
                "ç…å­é„‰": { longitude: 120.7044, latitude: 22.2078 },
                "ç‰¡ä¸¹é„‰": { longitude: 120.7944, latitude: 22.1278 }
            },
            "å®œè˜­ç¸£": {
                "å®œè˜­å¸‚": { longitude: 121.7544, latitude: 24.7578 },
                "ç¾…æ±é®": { longitude: 121.7744, latitude: 24.6778 },
                "è˜‡æ¾³é®": { longitude: 121.8544, latitude: 24.5978 },
                "é ­åŸé®": { longitude: 121.8244, latitude: 24.8578 },
                "ç¤æºªé„‰": { longitude: 121.7744, latitude: 24.8278 },
                "å£¯åœé„‰": { longitude: 121.8044, latitude: 24.7578 },
                "å“¡å±±é„‰": { longitude: 121.7344, latitude: 24.7478 },
                "å†¬å±±é„‰": { longitude: 121.7944, latitude: 24.6378 },
                "äº”çµé„‰": { longitude: 121.8044, latitude: 24.6878 },
                "ä¸‰æ˜Ÿé„‰": { longitude: 121.6644, latitude: 24.6678 },
                "å¤§åŒé„‰": { longitude: 121.6044, latitude: 24.5778 },
                "å—æ¾³é„‰": { longitude: 121.7944, latitude: 24.4578 }
            },
            "èŠ±è“®ç¸£": {
                "èŠ±è“®å¸‚": { longitude: 121.6044, latitude: 23.9778 },
                "é³³æ—é®": { longitude: 121.4544, latitude: 23.7478 },
                "ç‰é‡Œé®": { longitude: 121.3144, latitude: 23.3378 },
                "æ–°åŸé„‰": { longitude: 121.6544, latitude: 24.0278 },
                "å‰å®‰é„‰": { longitude: 121.5744, latitude: 23.9578 },
                "å£½è±é„‰": { longitude: 121.5144, latitude: 23.8678 },
                "å…‰å¾©é„‰": { longitude: 121.4244, latitude: 23.6578 },
                "è±æ¿±é„‰": { longitude: 121.5144, latitude: 23.5978 },
                "ç‘ç©—é„‰": { longitude: 121.3744, latitude: 23.4978 },
                "å¯Œé‡Œé„‰": { longitude: 121.2544, latitude: 23.1778 },
                "ç§€æ—é„‰": { longitude: 121.6044, latitude: 24.1278 },
                "è¬æ¦®é„‰": { longitude: 121.4044, latitude: 23.7078 },
                "å“æºªé„‰": { longitude: 121.3044, latitude: 23.3478 }
            },
            "è‡ºæ±ç¸£": {
                "è‡ºæ±å¸‚": { longitude: 121.1444, latitude: 22.7578 },
                "æˆåŠŸé®": { longitude: 121.3744, latitude: 23.1078 },
                "é—œå±±é®": { longitude: 121.1644, latitude: 23.0478 },
                "å‘å—é„‰": { longitude: 121.0844, latitude: 22.7878 },
                "é¹¿é‡é„‰": { longitude: 121.1344, latitude: 22.9178 },
                "æ± ä¸Šé„‰": { longitude: 121.2144, latitude: 23.1278 },
                "æ±æ²³é„‰": { longitude: 121.3044, latitude: 22.9678 },
                "é•·æ¿±é„‰": { longitude: 121.4544, latitude: 23.3278 },
                "å¤ªéº»é‡Œé„‰": { longitude: 121.0044, latitude: 22.6078 },
                "å¤§æ­¦é„‰": { longitude: 120.8944, latitude: 22.3578 },
                "ç¶ å³¶é„‰": { longitude: 121.4744, latitude: 22.6578 },
                "æµ·ç«¯é„‰": { longitude: 121.1744, latitude: 23.1978 },
                "å»¶å¹³é„‰": { longitude: 121.0744, latitude: 22.8978 },
                "é‡‘å³°é„‰": { longitude: 120.8944, latitude: 22.5978 },
                "é”ä»é„‰": { longitude: 120.8844, latitude: 22.2978 },
                "è˜­å¶¼é„‰": { longitude: 121.5544, latitude: 22.0578 }
            },
            "æ¾æ¹–ç¸£": {
                "é¦¬å…¬å¸‚": { longitude: 119.5644, latitude: 23.5678 },
                "æ¹–è¥¿é„‰": { longitude: 119.6544, latitude: 23.5778 },
                "ç™½æ²™é„‰": { longitude: 119.5844, latitude: 23.6578 },
                "è¥¿å¶¼é„‰": { longitude: 119.5044, latitude: 23.5978 },
                "æœ›å®‰é„‰": { longitude: 119.5044, latitude: 23.3578 },
                "ä¸ƒç¾é„‰": { longitude: 119.4244, latitude: 23.2078 }
            },
            "é‡‘é–€ç¸£": {
                "é‡‘åŸé®": { longitude: 118.3244, latitude: 24.4378 },
                "é‡‘æ¹–é®": { longitude: 118.4044, latitude: 24.4478 },
                "é‡‘æ²™é®": { longitude: 118.4044, latitude: 24.4978 },
                "é‡‘å¯§é„‰": { longitude: 118.3244, latitude: 24.4578 },
                "çƒˆå¶¼é„‰": { longitude: 118.2344, latitude: 24.4278 },
                "çƒåµé„‰": { longitude: 119.4544, latitude: 24.9878 }
            },
            "é€£æ±Ÿç¸£": {
                "å—ç«¿é„‰": { longitude: 119.9444, latitude: 26.1478 },
                "åŒ—ç«¿é„‰": { longitude: 119.9844, latitude: 26.2278 },
                "è’å…‰é„‰": { longitude: 119.9344, latitude: 25.9678 },
                "æ±å¼•é„‰": { longitude: 120.4944, latitude: 26.3678 }
            }
        };

        // ä¸­åœ‹å¤§é™¸çœä»½å’ŒåŸå¸‚æ•¸æ“šï¼ˆåŒ…å«ç¶“ç·¯åº¦ï¼‰
        const chinaLocations = {
            "åŒ—äº¬å¸‚": {
                "æ±åŸå€": { longitude: 116.4164, latitude: 39.9284 },
                "è¥¿åŸå€": { longitude: 116.3664, latitude: 39.9124 },
                "æœé™½å€": { longitude: 116.4434, latitude: 39.9214 },
                "è±å°å€": { longitude: 116.2864, latitude: 39.8584 },
                "çŸ³æ™¯å±±å€": { longitude: 116.2234, latitude: 39.9064 },
                "æµ·æ·€å€": { longitude: 116.2984, latitude: 39.9594 },
                "é–€é ­æºå€": { longitude: 116.1024, latitude: 39.9374 },
                "æˆ¿å±±å€": { longitude: 116.1434, latitude: 39.7474 },
                "é€šå·å€": { longitude: 116.6584, latitude: 39.9094 },
                "é †ç¾©å€": { longitude: 116.6544, latitude: 40.1284 },
                "æ˜Œå¹³å€": { longitude: 116.2304, latitude: 40.2204 },
                "å¤§èˆˆå€": { longitude: 116.3384, latitude: 39.7284 },
                "æ‡·æŸ”å€": { longitude: 116.6374, latitude: 40.3154 },
                "å¹³è°·å€": { longitude: 117.1124, latitude: 40.1404 },
                "å¯†é›²å€": { longitude: 116.8434, latitude: 40.3764 },
                "å»¶æ…¶å€": { longitude: 115.9744, latitude: 40.4534 }
            },
            "ä¸Šæµ·å¸‚": {
                "é»ƒæµ¦å€": { longitude: 121.4844, latitude: 31.2304 },
                "å¾åŒ¯å€": { longitude: 121.4364, latitude: 31.1884 },
                "é•·å¯§å€": { longitude: 121.4224, latitude: 31.2204 },
                "éœå®‰å€": { longitude: 121.4484, latitude: 31.2284 },
                "æ™®é™€å€": { longitude: 121.3924, latitude: 31.2494 },
                "è™¹å£å€": { longitude: 121.5054, latitude: 31.2644 },
                "æ¥Šæµ¦å€": { longitude: 121.5264, latitude: 31.2594 },
                "æµ¦æ±æ–°å€": { longitude: 121.5674, latitude: 31.2454 },
                "é–”è¡Œå€": { longitude: 121.3814, latitude: 31.1124 },
                "å¯¶å±±å€": { longitude: 121.4894, latitude: 31.4044 },
                "å˜‰å®šå€": { longitude: 121.2654, latitude: 31.3744 },
                "é‡‘å±±å€": { longitude: 121.1604, latitude: 30.7244 },
                "æ¾æ±Ÿå€": { longitude: 121.2284, latitude: 31.0324 },
                "é’æµ¦å€": { longitude: 121.1244, latitude: 31.1504 },
                "å¥‰è³¢å€": { longitude: 121.4744, latitude: 30.9144 },
                "å´‡æ˜å€": { longitude: 121.3974, latitude: 31.6224 }
            },
            "å»£æ±çœ": {
                "å»£å·å¸‚": { longitude: 113.2644, latitude: 23.1294 },
                "æ·±åœ³å¸‚": { longitude: 114.0574, latitude: 22.5434 },
                "ç æµ·å¸‚": { longitude: 113.5764, latitude: 22.2704 },
                "æ±•é ­å¸‚": { longitude: 116.6824, latitude: 23.3544 },
                "ä½›å±±å¸‚": { longitude: 113.1224, latitude: 23.0214 },
                "éŸ¶é—œå¸‚": { longitude: 113.5974, latitude: 24.8104 },
                "æ¹›æ±Ÿå¸‚": { longitude: 110.3644, latitude: 21.2704 },
                "è‚‡æ…¶å¸‚": { longitude: 112.4654, latitude: 23.0514 },
                "æ±Ÿé–€å¸‚": { longitude: 113.0814, latitude: 22.5784 },
                "èŒ‚åå¸‚": { longitude: 110.9244, latitude: 21.6594 },
                "æƒ å·å¸‚": { longitude: 114.4164, latitude: 23.1114 },
                "æ¢…å·å¸‚": { longitude: 116.1174, latitude: 24.2884 },
                "æ±•å°¾å¸‚": { longitude: 115.3754, latitude: 22.7864 },
                "æ²³æºå¸‚": { longitude: 114.6974, latitude: 23.7464 },
                "é™½æ±Ÿå¸‚": { longitude: 111.9754, latitude: 21.8574 },
                "æ¸…é å¸‚": { longitude: 113.0514, latitude: 23.6854 },
                "æ±èå¸‚": { longitude: 113.7514, latitude: 23.0204 },
                "ä¸­å±±å¸‚": { longitude: 113.3924, latitude: 22.5164 },
                "æ½®å·å¸‚": { longitude: 116.6224, latitude: 23.6564 },
                "æ­é™½å¸‚": { longitude: 116.3724, latitude: 23.5494 },
                "é›²æµ®å¸‚": { longitude: 112.0444, latitude: 22.9154 }
            },
            "æ±Ÿè˜‡çœ": {
                "å—äº¬å¸‚": { longitude: 118.7964, latitude: 32.0604 },
                "ç„¡éŒ«å¸‚": { longitude: 120.3114, latitude: 31.4914 },
                "å¾å·å¸‚": { longitude: 117.2834, latitude: 34.2044 },
                "å¸¸å·å¸‚": { longitude: 119.9734, latitude: 31.8104 },
                "è˜‡å·å¸‚": { longitude: 120.5854, latitude: 31.2984 },
                "å—é€šå¸‚": { longitude: 120.8944, latitude: 31.9794 },
                "é€£é›²æ¸¯å¸‚": { longitude: 119.1784, latitude: 34.5964 },
                "æ·®å®‰å¸‚": { longitude: 119.0154, latitude: 33.5974 },
                "é¹½åŸå¸‚": { longitude: 120.1614, latitude: 33.3474 },
                "æšå·å¸‚": { longitude: 119.4124, latitude: 32.3934 },
                "é®æ±Ÿå¸‚": { longitude: 119.4524, latitude: 32.2044 },
                "æ³°å·å¸‚": { longitude: 119.9154, latitude: 32.4844 },
                "å®¿é·å¸‚": { longitude: 118.2754, latitude: 33.9634 }
            },
            "æµ™æ±Ÿçœ": {
                "æ­å·å¸‚": { longitude: 120.1534, latitude: 30.2874 },
                "å¯§æ³¢å¸‚": { longitude: 121.5444, latitude: 29.8684 },
                "æº«å·å¸‚": { longitude: 120.6994, latitude: 28.0004 },
                "å˜‰èˆˆå¸‚": { longitude: 120.7504, latitude: 30.7624 },
                "æ¹–å·å¸‚": { longitude: 120.0884, latitude: 30.8934 },
                "ç´¹èˆˆå¸‚": { longitude: 120.5824, latitude: 29.9974 },
                "é‡‘è¯å¸‚": { longitude: 119.6474, latitude: 29.0794 },
                "è¡¢å·å¸‚": { longitude: 118.8724, latitude: 28.9414 },
                "èˆŸå±±å¸‚": { longitude: 122.2074, latitude: 30.0164 },
                "å°å·å¸‚": { longitude: 121.4204, latitude: 28.6564 },
                "éº—æ°´å¸‚": { longitude: 119.9214, latitude: 28.4514 }
            },
            "å±±æ±çœ": {
                "æ¿Ÿå—å¸‚": { longitude: 117.0004, latitude: 36.6514 },
                "é’å³¶å¸‚": { longitude: 120.3824, latitude: 36.0674 },
                "æ·„åšå¸‚": { longitude: 118.0474, latitude: 36.8144 },
                "æ£—èŠå¸‚": { longitude: 117.3234, latitude: 34.8104 },
                "æ±ç‡Ÿå¸‚": { longitude: 118.6744, latitude: 37.4344 },
                "ç…™å°å¸‚": { longitude: 121.3914, latitude: 37.5394 },
                "æ¿°åŠå¸‚": { longitude: 119.1074, latitude: 36.7094 },
                "æ¿Ÿå¯§å¸‚": { longitude: 116.5874, latitude: 35.4144 },
                "æ³°å®‰å¸‚": { longitude: 117.0884, latitude: 36.1944 },
                "å¨æµ·å¸‚": { longitude: 122.1164, latitude: 37.5094 },
                "æ—¥ç…§å¸‚": { longitude: 119.5264, latitude: 35.4164 },
                "è‡¨æ²‚å¸‚": { longitude: 118.3264, latitude: 35.0514 },
                "å¾·å·å¸‚": { longitude: 116.3594, latitude: 37.4514 },
                "èŠåŸå¸‚": { longitude: 115.9804, latitude: 36.4564 },
                "æ¿±å·å¸‚": { longitude: 118.0164, latitude: 37.3834 },
                "èæ¾¤å¸‚": { longitude: 115.4694, latitude: 35.2464 }
            },
            "å››å·çœ": {
                "æˆéƒ½å¸‚": { longitude: 104.0664, latitude: 30.5724 },
                "è‡ªè²¢å¸‚": { longitude: 104.7784, latitude: 29.3394 },
                "æ”€æèŠ±å¸‚": { longitude: 101.7184, latitude: 26.5824 },
                "ç€˜å·å¸‚": { longitude: 105.4434, latitude: 28.8714 },
                "å¾·é™½å¸‚": { longitude: 104.3984, latitude: 31.1264 },
                "ç¶¿é™½å¸‚": { longitude: 104.6794, latitude: 31.4674 },
                "å»£å…ƒå¸‚": { longitude: 105.8294, latitude: 32.4334 },
                "é‚å¯§å¸‚": { longitude: 105.5924, latitude: 30.5324 },
                "å…§æ±Ÿå¸‚": { longitude: 105.0584, latitude: 29.5804 },
                "æ¨‚å±±å¸‚": { longitude: 103.7654, latitude: 29.5824 },
                "å—å……å¸‚": { longitude: 106.1104, latitude: 30.8374 },
                "çœ‰å±±å¸‚": { longitude: 103.8314, latitude: 30.0484 },
                "å®œè³“å¸‚": { longitude: 104.6174, latitude: 28.7654 },
                "å»£å®‰å¸‚": { longitude: 106.6334, latitude: 30.4564 },
                "é”å·å¸‚": { longitude: 107.5024, latitude: 31.2094 },
                "é›…å®‰å¸‚": { longitude: 103.0014, latitude: 29.9814 },
                "å·´ä¸­å¸‚": { longitude: 106.7534, latitude: 31.8584 },
                "è³‡é™½å¸‚": { longitude: 104.6414, latitude: 30.1214 }
            },
            "æ¹–åŒ—çœ": {
                "æ­¦æ¼¢å¸‚": { longitude: 114.3054, latitude: 30.5924 },
                "é»ƒçŸ³å¸‚": { longitude: 115.0384, latitude: 30.2004 },
                "åå °å¸‚": { longitude: 110.7874, latitude: 32.6474 },
                "å®œæ˜Œå¸‚": { longitude: 111.2864, latitude: 30.6914 },
                "è¥„é™½å¸‚": { longitude: 112.1444, latitude: 32.0424 },
                "é„‚å·å¸‚": { longitude: 114.8944, latitude: 30.3904 },
                "èŠé–€å¸‚": { longitude: 112.2044, latitude: 31.0354 },
                "å­æ„Ÿå¸‚": { longitude: 113.9264, latitude: 30.9244 },
                "èŠå·å¸‚": { longitude: 112.2384, latitude: 30.3344 },
                "é»ƒå²¡å¸‚": { longitude: 114.8794, latitude: 30.4474 },
                "å’¸å¯§å¸‚": { longitude: 114.3224, latitude: 29.8324 },
                "éš¨å·å¸‚": { longitude: 113.3734, latitude: 31.7174 }
            },
            "æ¹–å—çœ": {
                "é•·æ²™å¸‚": { longitude: 112.9384, latitude: 28.2274 },
                "æ ªæ´²å¸‚": { longitude: 113.1334, latitude: 27.8274 },
                "æ¹˜æ½­å¸‚": { longitude: 112.9434, latitude: 27.8294 },
                "è¡¡é™½å¸‚": { longitude: 112.5714, latitude: 26.8934 },
                "é‚µé™½å¸‚": { longitude: 111.4674, latitude: 27.2384 },
                "å²³é™½å¸‚": { longitude: 113.1284, latitude: 29.3574 },
                "å¸¸å¾·å¸‚": { longitude: 111.6984, latitude: 29.0314 },
                "å¼µå®¶ç•Œå¸‚": { longitude: 110.4794, latitude: 29.1274 },
                "ç›Šé™½å¸‚": { longitude: 112.3544, latitude: 28.5534 },
                "éƒ´å·å¸‚": { longitude: 113.0144, latitude: 25.7704 },
                "æ°¸å·å¸‚": { longitude: 111.6124, latitude: 26.4204 },
                "æ‡·åŒ–å¸‚": { longitude: 109.9784, latitude: 27.5494 },
                "å©åº•å¸‚": { longitude: 111.9944, latitude: 27.6974 }
            },
            "æ²³å—çœ": {
                "é„­å·å¸‚": { longitude: 113.6654, latitude: 34.7574 },
                "é–‹å°å¸‚": { longitude: 114.3074, latitude: 34.7974 },
                "æ´›é™½å¸‚": { longitude: 112.4544, latitude: 34.6194 },
                "å¹³é ‚å±±å¸‚": { longitude: 113.3074, latitude: 33.7354 },
                "å®‰é™½å¸‚": { longitude: 114.3524, latitude: 36.1034 },
                "é¶´å£å¸‚": { longitude: 114.2954, latitude: 35.7484 },
                "æ–°é„‰å¸‚": { longitude: 113.8834, latitude: 35.3024 },
                "ç„¦ä½œå¸‚": { longitude: 113.2414, latitude: 35.2154 },
                "æ¿®é™½å¸‚": { longitude: 115.0294, latitude: 35.7614 },
                "è¨±æ˜Œå¸‚": { longitude: 113.8524, latitude: 34.0354 },
                "æ¼¯æ²³å¸‚": { longitude: 114.0164, latitude: 33.5814 },
                "ä¸‰é–€å³½å¸‚": { longitude: 111.1944, latitude: 34.7724 },
                "å—é™½å¸‚": { longitude: 112.5284, latitude: 32.9904 },
                "å•†ä¸˜å¸‚": { longitude: 115.6504, latitude: 34.4374 },
                "ä¿¡é™½å¸‚": { longitude: 114.0884, latitude: 32.1234 },
                "å‘¨å£å¸‚": { longitude: 114.6514, latitude: 33.6204 },
                "é§é¦¬åº—å¸‚": { longitude: 114.0224, latitude: 32.9774 }
            },
            "é™è¥¿çœ": {
                "è¥¿å®‰å¸‚": { longitude: 108.9394, latitude: 34.3414 },
                "éŠ…å·å¸‚": { longitude: 108.9794, latitude: 34.9084 },
                "å¯¶é›å¸‚": { longitude: 107.2374, latitude: 34.3614 },
                "å’¸é™½å¸‚": { longitude: 108.7084, latitude: 34.3294 },
                "æ¸­å—å¸‚": { longitude: 109.4894, latitude: 34.4994 },
                "å»¶å®‰å¸‚": { longitude: 109.4894, latitude: 36.5964 },
                "æ¼¢ä¸­å¸‚": { longitude: 107.0234, latitude: 33.0674 },
                "æ¦†æ—å¸‚": { longitude: 109.7344, latitude: 38.2854 },
                "å®‰åº·å¸‚": { longitude: 109.0294, latitude: 32.6904 },
                "å•†æ´›å¸‚": { longitude: 109.9374, latitude: 33.8684 }
            },
            "ç¦å»ºçœ": {
                "ç¦å·å¸‚": { longitude: 119.3064, latitude: 26.0754 },
                "å»ˆé–€å¸‚": { longitude: 118.1104, latitude: 24.4794 },
                "è†ç”°å¸‚": { longitude: 119.0074, latitude: 25.4544 },
                "ä¸‰æ˜å¸‚": { longitude: 117.6394, latitude: 26.2644 },
                "æ³‰å·å¸‚": { longitude: 118.6754, latitude: 24.8734 },
                "æ¼³å·å¸‚": { longitude: 117.6474, latitude: 24.5104 },
                "å—å¹³å¸‚": { longitude: 118.1774, latitude: 26.6414 },
                "é¾å²©å¸‚": { longitude: 117.0174, latitude: 25.0914 },
                "å¯§å¾·å¸‚": { longitude: 119.5274, latitude: 26.6594 }
            },
            "å®‰å¾½çœ": {
                "åˆè‚¥å¸‚": { longitude: 117.2274, latitude: 31.8204 },
                "è•ªæ¹–å¸‚": { longitude: 118.3764, latitude: 31.3264 },
                "èšŒåŸ å¸‚": { longitude: 117.3644, latitude: 32.9444 },
                "æ·®å—å¸‚": { longitude: 116.9994, latitude: 32.6264 },
                "é¦¬éå±±å¸‚": { longitude: 118.5074, latitude: 31.6894 },
                "æ·®åŒ—å¸‚": { longitude: 116.7944, latitude: 33.9544 },
                "éŠ…é™µå¸‚": { longitude: 117.8124, latitude: 30.9454 },
                "å®‰æ…¶å¸‚": { longitude: 117.0534, latitude: 30.5254 },
                "é»ƒå±±å¸‚": { longitude: 118.3374, latitude: 29.7144 },
                "æ»å·å¸‚": { longitude: 118.3164, latitude: 32.3034 },
                "é˜œé™½å¸‚": { longitude: 115.8194, latitude: 32.8964 },
                "å®¿å·å¸‚": { longitude: 116.9784, latitude: 33.6334 },
                "å…­å®‰å¸‚": { longitude: 116.5074, latitude: 31.7524 },
                "äº³å·å¸‚": { longitude: 115.7784, latitude: 33.8694 },
                "æ± å·å¸‚": { longitude: 117.4884, latitude: 30.6564 },
                "å®£åŸå¸‚": { longitude: 118.7584, latitude: 30.9454 }
            },
            "æ±Ÿè¥¿çœ": {
                "å—æ˜Œå¸‚": { longitude: 115.8924, latitude: 28.6824 },
                "æ™¯å¾·é®å¸‚": { longitude: 117.2144, latitude: 29.2924 },
                "èé„‰å¸‚": { longitude: 113.8524, latitude: 27.6224 },
                "ä¹æ±Ÿå¸‚": { longitude: 115.9924, latitude: 29.7044 },
                "æ–°é¤˜å¸‚": { longitude: 114.9164, latitude: 27.8174 },
                "é·¹æ½­å¸‚": { longitude: 117.0694, latitude: 28.2604 },
                "è´›å·å¸‚": { longitude: 114.9344, latitude: 25.8314 },
                "å‰å®‰å¸‚": { longitude: 114.9924, latitude: 27.1114 },
                "å®œæ˜¥å¸‚": { longitude: 114.3914, latitude: 27.8044 },
                "æ’«å·å¸‚": { longitude: 116.3584, latitude: 27.9834 },
                "ä¸Šé¥’å¸‚": { longitude: 117.9714, latitude: 28.4444 }
            },
            "é¼å¯§çœ": {
                "ç€‹é™½å¸‚": { longitude: 123.4294, latitude: 41.8054 },
                "å¤§é€£å¸‚": { longitude: 121.6144, latitude: 38.9144 },
                "éå±±å¸‚": { longitude: 122.9944, latitude: 41.1084 },
                "æ’«é †å¸‚": { longitude: 123.9574, latitude: 41.8804 },
                "æœ¬æºªå¸‚": { longitude: 123.7654, latitude: 41.2974 },
                "ä¸¹æ±å¸‚": { longitude: 124.3834, latitude: 40.1294 },
                "éŒ¦å·å¸‚": { longitude: 121.1274, latitude: 41.0954 },
                "ç‡Ÿå£å¸‚": { longitude: 122.2344, latitude: 40.6674 },
                "é˜œæ–°å¸‚": { longitude: 121.6474, latitude: 42.0114 },
                "é¼é™½å¸‚": { longitude: 123.1814, latitude: 41.2694 },
                "ç›¤éŒ¦å¸‚": { longitude: 122.0694, latitude: 41.1194 },
                "éµå¶ºå¸‚": { longitude: 123.8414, latitude: 42.2904 },
                "æœé™½å¸‚": { longitude: 120.4514, latitude: 41.5764 },
                "è‘«è˜†å³¶å¸‚": { longitude: 120.8564, latitude: 40.7554 }
            },
            "é»‘é¾æ±Ÿçœ": {
                "å“ˆçˆ¾æ¿±å¸‚": { longitude: 126.6334, latitude: 45.7554 },
                "é½Šé½Šå“ˆçˆ¾å¸‚": { longitude: 123.9574, latitude: 47.3544 },
                "é›è¥¿å¸‚": { longitude: 130.9694, latitude: 45.2954 },
                "é¶´å´—å¸‚": { longitude: 130.2974, latitude: 47.3494 },
                "é›™é´¨å±±å¸‚": { longitude: 131.1594, latitude: 46.6464 },
                "å¤§æ…¶å¸‚": { longitude: 125.1034, latitude: 46.5894 },
                "ä¼Šæ˜¥å¸‚": { longitude: 128.8994, latitude: 47.7274 },
                "ä½³æœ¨æ–¯å¸‚": { longitude: 130.3614, latitude: 46.8094 },
                "ä¸ƒå°æ²³å¸‚": { longitude: 131.0154, latitude: 45.7704 },
                "ç‰¡ä¸¹æ±Ÿå¸‚": { longitude: 129.6184, latitude: 44.5514 },
                "é»‘æ²³å¸‚": { longitude: 127.4984, latitude: 50.2454 },
                "ç¶åŒ–å¸‚": { longitude: 126.9924, latitude: 46.6374 }
            },
            "å‰æ—çœ": {
                "é•·æ˜¥å¸‚": { longitude: 125.3234, latitude: 43.8174 },
                "å‰æ—å¸‚": { longitude: 126.5494, latitude: 43.8374 },
                "å››å¹³å¸‚": { longitude: 124.3644, latitude: 43.1704 },
                "é¼æºå¸‚": { longitude: 125.1434, latitude: 42.9024 },
                "é€šåŒ–å¸‚": { longitude: 125.9364, latitude: 41.7284 },
                "ç™½å±±å¸‚": { longitude: 126.4274, latitude: 41.9424 },
                "æ¾åŸå¸‚": { longitude: 124.8234, latitude: 45.1184 },
                "ç™½åŸå¸‚": { longitude: 122.8384, latitude: 45.6194 }
            },
            "æ²³åŒ—çœ": {
                "çŸ³å®¶èŠå¸‚": { longitude: 114.5144, latitude: 38.0424 },
                "å”å±±å¸‚": { longitude: 118.1804, latitude: 39.6304 },
                "ç§¦çš‡å³¶å¸‚": { longitude: 119.6004, latitude: 39.9354 },
                "é‚¯é„²å¸‚": { longitude: 114.4894, latitude: 36.6004 },
                "é‚¢å°å¸‚": { longitude: 114.5044, latitude: 37.0684 },
                "ä¿å®šå¸‚": { longitude: 115.4644, latitude: 38.8734 },
                "å¼µå®¶å£å¸‚": { longitude: 114.8874, latitude: 40.8244 },
                "æ‰¿å¾·å¸‚": { longitude: 117.9394, latitude: 40.9514 },
                "æ»„å·å¸‚": { longitude: 116.8574, latitude: 38.3104 },
                "å»ŠåŠå¸‚": { longitude: 116.7034, latitude: 39.5184 },
                "è¡¡æ°´å¸‚": { longitude: 115.6654, latitude: 37.7354 }
            },
            "å±±è¥¿çœ": {
                "å¤ªåŸå¸‚": { longitude: 112.5484, latitude: 37.8574 },
                "å¤§åŒå¸‚": { longitude: 113.2954, latitude: 40.0904 },
                "é™½æ³‰å¸‚": { longitude: 113.5804, latitude: 37.8564 },
                "é•·æ²»å¸‚": { longitude: 113.1164, latitude: 36.1954 },
                "æ™‰åŸå¸‚": { longitude: 112.8514, latitude: 35.4904 },
                "æœ”å·å¸‚": { longitude: 112.4324, latitude: 39.3314 },
                "æ™‰ä¸­å¸‚": { longitude: 112.7524, latitude: 37.6864 },
                "é‹åŸå¸‚": { longitude: 111.0034, latitude: 35.0224 },
                "å¿»å·å¸‚": { longitude: 112.7334, latitude: 38.4164 },
                "è‡¨æ±¾å¸‚": { longitude: 111.5174, latitude: 36.0674 },
                "å‘‚æ¢å¸‚": { longitude: 111.1344, latitude: 37.5184 }
            },
            "å…§è’™å¤è‡ªæ²»å€": {
                "å‘¼å’Œæµ©ç‰¹å¸‚": { longitude: 111.7514, latitude: 40.8414 },
                "åŒ…é ­å¸‚": { longitude: 109.8404, latitude: 40.6574 },
                "çƒæµ·å¸‚": { longitude: 106.8254, latitude: 39.6734 },
                "èµ¤å³°å¸‚": { longitude: 118.9564, latitude: 42.2574 },
                "é€šé¼å¸‚": { longitude: 122.2634, latitude: 43.6174 },
                "é„‚çˆ¾å¤šæ–¯å¸‚": { longitude: 109.7814, latitude: 39.6084 },
                "å‘¼å€«è²çˆ¾å¸‚": { longitude: 119.7654, latitude: 49.2154 },
                "å·´å½¥æ·–çˆ¾å¸‚": { longitude: 107.4164, latitude: 40.7574 },
                "çƒè˜­å¯Ÿå¸ƒå¸‚": { longitude: 113.1334, latitude: 40.9954 }
            },
            "é›²å—çœ": {
                "æ˜†æ˜å¸‚": { longitude: 102.7124, latitude: 25.0404 },
                "æ›²é–å¸‚": { longitude: 103.7964, latitude: 25.5014 },
                "ç‰æºªå¸‚": { longitude: 102.5434, latitude: 24.3504 },
                "ä¿å±±å¸‚": { longitude: 99.1614, latitude: 25.1114 },
                "æ˜­é€šå¸‚": { longitude: 103.7164, latitude: 27.3364 },
                "éº—æ±Ÿå¸‚": { longitude: 100.2274, latitude: 26.8564 },
                "æ™®æ´±å¸‚": { longitude: 100.9724, latitude: 22.7774 },
                "è‡¨æ»„å¸‚": { longitude: 100.0864, latitude: 23.8864 },
                "æ¥šé›„å½æ—è‡ªæ²»å·": { longitude: 101.5454, latitude: 25.0324 },
                "ç´…æ²³å“ˆå°¼æ—å½æ—è‡ªæ²»å·": { longitude: 103.3844, latitude: 23.3664 },
                "æ–‡å±±å£¯æ—è‹—æ—è‡ªæ²»å·": { longitude: 104.2444, latitude: 23.3694 },
                "è¥¿é›™ç‰ˆç´å‚£æ—è‡ªæ²»å·": { longitude: 100.7974, latitude: 22.0094 },
                "å¤§ç†ç™½æ—è‡ªæ²»å·": { longitude: 100.2674, latitude: 25.6064 },
                "å¾·å®å‚£æ—æ™¯é —æ—è‡ªæ²»å·": { longitude: 98.5844, latitude: 24.4324 },
                "æ€’æ±Ÿå‚ˆåƒ³æ—è‡ªæ²»å·": { longitude: 98.8544, latitude: 25.8504 },
                "è¿ªæ…¶è—æ—è‡ªæ²»å·": { longitude: 99.7024, latitude: 27.8184 }
            },
            "è²´å·çœ": {
                "è²´é™½å¸‚": { longitude: 106.6294, latitude: 26.6474 },
                "å…­ç›¤æ°´å¸‚": { longitude: 104.8464, latitude: 26.5844 },
                "éµç¾©å¸‚": { longitude: 106.9374, latitude: 27.7254 },
                "å®‰é †å¸‚": { longitude: 105.9474, latitude: 26.2454 },
                "ç•¢ç¯€å¸‚": { longitude: 105.2844, latitude: 27.3014 },
                "éŠ…ä»å¸‚": { longitude: 109.1914, latitude: 27.7184 }
            },
            "å»£è¥¿å£¯æ—è‡ªæ²»å€": {
                "å—å¯§å¸‚": { longitude: 108.3204, latitude: 22.8164 },
                "æŸ³å·å¸‚": { longitude: 109.4284, latitude: 24.3144 },
                "æ¡‚æ—å¸‚": { longitude: 110.2984, latitude: 25.2744 },
                "æ¢§å·å¸‚": { longitude: 111.2784, latitude: 23.4764 },
                "åŒ—æµ·å¸‚": { longitude: 109.1194, latitude: 21.4734 },
                "é˜²åŸæ¸¯å¸‚": { longitude: 108.3544, latitude: 21.6174 },
                "æ¬½å·å¸‚": { longitude: 108.6544, latitude: 21.9664 },
                "è²´æ¸¯å¸‚": { longitude: 109.5994, latitude: 23.0934 },
                "ç‰æ—å¸‚": { longitude: 110.1544, latitude: 22.6314 },
                "ç™¾è‰²å¸‚": { longitude: 106.6154, latitude: 23.9014 },
                "è³€å·å¸‚": { longitude: 111.5664, latitude: 24.4144 },
                "æ²³æ± å¸‚": { longitude: 108.0854, latitude: 24.6924 },
                "ä¾†è³“å¸‚": { longitude: 109.2294, latitude: 23.7334 },
                "å´‡å·¦å¸‚": { longitude: 107.3644, latitude: 22.4044 }
            },
            "æ–°ç–†ç¶­å¾çˆ¾è‡ªæ²»å€": {
                "çƒé­¯æœ¨é½Šå¸‚": { longitude: 87.6164, latitude: 43.8254 },
                "å…‹æ‹‰ç‘ªä¾å¸‚": { longitude: 84.8734, latitude: 45.5954 },
                "åé­¯ç•ªå¸‚": { longitude: 89.1894, latitude: 42.9474 },
                "å“ˆå¯†å¸‚": { longitude: 93.5144, latitude: 42.8334 },
                "æ˜Œå‰å›æ—è‡ªæ²»å·": { longitude: 87.3044, latitude: 44.0144 },
                "åšçˆ¾å¡”æ‹‰è’™å¤è‡ªæ²»å·": { longitude: 82.0744, latitude: 44.9034 },
                "å·´éŸ³éƒ­æ¥è’™å¤è‡ªæ²»å·": { longitude: 86.1504, latitude: 41.7684 },
                "é˜¿å…‹è˜‡åœ°å€": { longitude: 80.2604, latitude: 41.1684 },
                "å…‹å­œå‹’è˜‡æŸ¯çˆ¾å…‹å­œè‡ªæ²»å·": { longitude: 76.1724, latitude: 39.7144 },
                "å–€ä»€åœ°å€": { longitude: 75.9894, latitude: 39.4674 },
                "å’Œç”°åœ°å€": { longitude: 79.9124, latitude: 37.1144 },
                "ä¼ŠçŠå“ˆè–©å…‹è‡ªæ²»å·": { longitude: 81.3174, latitude: 43.9164 },
                "å¡”åŸåœ°å€": { longitude: 82.9744, latitude: 46.7464 },
                "é˜¿å‹’æ³°åœ°å€": { longitude: 88.1394, latitude: 47.8484 }
            },
            "è¥¿è—è‡ªæ²»å€": {
                "æ‹‰è–©å¸‚": { longitude: 91.1144, latitude: 29.6444 },
                "æ—¥å–€å‰‡å¸‚": { longitude: 88.8844, latitude: 29.2664 },
                "æ˜Œéƒ½å¸‚": { longitude: 97.1724, latitude: 31.1404 },
                "æ—èŠå¸‚": { longitude: 94.3614, latitude: 29.6544 },
                "å±±å—å¸‚": { longitude: 91.7664, latitude: 29.2364 },
                "é‚£æ›²å¸‚": { longitude: 92.0514, latitude: 31.4764 },
                "é˜¿é‡Œåœ°å€": { longitude: 80.1054, latitude: 32.5014 }
            },
            "é’æµ·çœ": {
                "è¥¿å¯§å¸‚": { longitude: 101.7784, latitude: 36.6174 },
                "æµ·æ±å¸‚": { longitude: 102.4014, latitude: 36.5024 },
                "æµ·åŒ—è—æ—è‡ªæ²»å·": { longitude: 100.9004, latitude: 36.9544 },
                "é»ƒå—è—æ—è‡ªæ²»å·": { longitude: 102.0154, latitude: 35.5194 },
                "æµ·å—è—æ—è‡ªæ²»å·": { longitude: 100.6194, latitude: 36.2804 },
                "æœæ´›è—æ—è‡ªæ²»å·": { longitude: 100.2444, latitude: 34.4714 },
                "ç‰æ¨¹è—æ—è‡ªæ²»å·": { longitude: 97.0084, latitude: 33.0044 },
                "æµ·è¥¿è’™å¤æ—è—æ—è‡ªæ²»å·": { longitude: 97.3704, latitude: 37.3744 }
            },
            "å¯§å¤å›æ—è‡ªæ²»å€": {
                "éŠ€å·å¸‚": { longitude: 106.2304, latitude: 38.4874 },
                "çŸ³å˜´å±±å¸‚": { longitude: 106.3834, latitude: 39.0194 },
                "å³å¿ å¸‚": { longitude: 106.1984, latitude: 37.9864 },
                "å›ºåŸå¸‚": { longitude: 106.2854, latitude: 36.0044 },
                "ä¸­è¡›å¸‚": { longitude: 105.1964, latitude: 37.5004 }
            },
            "æµ·å—çœ": {
                "æµ·å£å¸‚": { longitude: 110.3304, latitude: 20.0314 },
                "ä¸‰äºå¸‚": { longitude: 109.5084, latitude: 18.2474 },
                "ä¸‰æ²™å¸‚": { longitude: 112.3344, latitude: 16.8314 },
                "å„‹å·å¸‚": { longitude: 109.5764, latitude: 19.5174 },
                "äº”æŒ‡å±±å¸‚": { longitude: 109.5164, latitude: 18.7764 },
                "ç“Šæµ·å¸‚": { longitude: 110.4644, latitude: 19.2584 },
                "æ–‡æ˜Œå¸‚": { longitude: 110.7534, latitude: 19.6124 },
                "è¬å¯§å¸‚": { longitude: 110.3884, latitude: 18.7964 },
                "æ±æ–¹å¸‚": { longitude: 108.6534, latitude: 19.1014 },
                "å®šå®‰ç¸£": { longitude: 110.3584, latitude: 19.6814 },
                "å±¯æ˜Œç¸£": { longitude: 110.1014, latitude: 19.3624 },
                "æ¾„é‚ç¸£": { longitude: 110.0064, latitude: 19.7374 },
                "è‡¨é«˜ç¸£": { longitude: 109.6904, latitude: 19.9084 },
                "ç™½æ²™é»æ—è‡ªæ²»ç¸£": { longitude: 109.4524, latitude: 19.2254 },
                "æ˜Œæ±Ÿé»æ—è‡ªæ²»ç¸£": { longitude: 109.0534, latitude: 19.2604 },
                "æ¨‚æ±é»æ—è‡ªæ²»ç¸£": { longitude: 109.1734, latitude: 18.7474 },
                "é™µæ°´é»æ—è‡ªæ²»ç¸£": { longitude: 110.0374, latitude: 18.5054 },
                "ä¿äº­é»æ—è‹—æ—è‡ªæ²»ç¸£": { longitude: 109.7024, latitude: 18.6364 },
                "ç“Šä¸­é»æ—è‹—æ—è‡ªæ²»ç¸£": { longitude: 109.8384, latitude: 19.0354 }
            },
            "é‡æ…¶å¸‚": {
                "è¬å·å€": { longitude: 108.4084, latitude: 30.8074 },
                "æ¶ªé™µå€": { longitude: 107.3944, latitude: 29.7024 },
                "æ¸ä¸­å€": { longitude: 106.5624, latitude: 29.5524 },
                "å¤§æ¸¡å£å€": { longitude: 106.4824, latitude: 29.4844 },
                "æ±ŸåŒ—å€": { longitude: 106.5744, latitude: 29.6064 },
                "æ²™åªå£©å€": { longitude: 106.4544, latitude: 29.5404 },
                "ä¹é¾å¡å€": { longitude: 106.5104, latitude: 29.5014 },
                "å—å²¸å€": { longitude: 106.5634, latitude: 29.5234 },
                "åŒ—ç¢šå€": { longitude: 106.4374, latitude: 29.8254 },
                "ç¶¦æ±Ÿå€": { longitude: 106.6514, latitude: 29.0284 },
                "å¤§è¶³å€": { longitude: 105.7154, latitude: 29.7004 },
                "æ¸åŒ—å€": { longitude: 106.5124, latitude: 29.7184 },
                "å·´å—å€": { longitude: 106.5194, latitude: 29.3814 },
                "é»”æ±Ÿå€": { longitude: 108.7704, latitude: 29.5334 },
                "é•·å£½å€": { longitude: 107.0744, latitude: 29.8334 },
                "æ±Ÿæ´¥å€": { longitude: 106.2534, latitude: 29.2834 },
                "åˆå·å€": { longitude: 106.2654, latitude: 29.9904 },
                "æ°¸å·å€": { longitude: 105.8944, latitude: 29.3484 },
                "å—å·å€": { longitude: 107.0974, latitude: 29.1574 },
                "ç’§å±±å€": { longitude: 106.2274, latitude: 29.5924 },
                "éŠ…æ¢å€": { longitude: 106.0544, latitude: 29.8444 },
                "æ½¼å—å€": { longitude: 105.8404, latitude: 30.1904 },
                "æ¦®æ˜Œå€": { longitude: 105.5944, latitude: 29.4044 },
                "é–‹å·å€": { longitude: 108.4134, latitude: 31.1604 },
                "æ¢å¹³å€": { longitude: 107.8004, latitude: 30.6724 },
                "æ­¦éš†å€": { longitude: 107.7564, latitude: 29.3254 }
            },
            "å¤©æ´¥å¸‚": {
                "å’Œå¹³å€": { longitude: 117.2144, latitude: 39.1184 },
                "æ²³æ±å€": { longitude: 117.2264, latitude: 39.1224 },
                "æ²³è¥¿å€": { longitude: 117.2234, latitude: 39.1094 },
                "å—é–‹å€": { longitude: 117.1504, latitude: 39.1384 },
                "æ²³åŒ—å€": { longitude: 117.1964, latitude: 39.1474 },
                "ç´…æ©‹å€": { longitude: 117.1634, latitude: 39.1674 },
                "æ±éº—å€": { longitude: 117.3144, latitude: 39.0864 },
                "è¥¿é’å€": { longitude: 117.0084, latitude: 39.1414 },
                "æ´¥å—å€": { longitude: 117.3824, latitude: 38.9884 },
                "åŒ—è¾°å€": { longitude: 117.1344, latitude: 39.2214 },
                "æ­¦æ¸…å€": { longitude: 117.0444, latitude: 39.3844 },
                "å¯¶å»å€": { longitude: 117.3094, latitude: 39.7174 },
                "æ¿±æµ·æ–°å€": { longitude: 117.7104, latitude: 39.0034 },
                "å¯§æ²³å€": { longitude: 117.8254, latitude: 39.3284 },
                "éœæµ·å€": { longitude: 116.9244, latitude: 38.9354 },
                "è–Šå·å€": { longitude: 117.4074, latitude: 40.0454 }
            }
        };

        // åˆå§‹åŒ–ç¸£å¸‚é¸å–®ï¼ˆæ ¹æ“šåœ‹å®¶é¸æ“‡ï¼‰
        function initializeCountySelect() {
            const countrySelect = document.getElementById('country');
            const countySelect = document.getElementById('county');
            const districtSelect = document.getElementById('district');
            
            if (!countrySelect || !countySelect || !districtSelect) {
                console.error('æ‰¾ä¸åˆ°åœ‹å®¶ã€ç¸£å¸‚æˆ–å€åŸŸé¸å–®å…ƒç´ ');
                return;
            }
            
            // æ¸…ç©ºé¸å–®
            countySelect.innerHTML = '<option value="">è«‹å…ˆé¸æ“‡åœ‹å®¶/åœ°å€</option>';
            districtSelect.innerHTML = '<option value="">è«‹å…ˆé¸æ“‡ç¸£å¸‚/çœä»½</option>';
            
            // ç¢ºä¿é¸å–®å¯ä»¥é»æ“Š
            countySelect.style.pointerEvents = 'auto';
            countySelect.disabled = true; // åˆå§‹ç‹€æ…‹ç¦ç”¨ï¼Œç­‰å¾…é¸æ“‡åœ‹å®¶
            districtSelect.style.pointerEvents = 'auto';
            districtSelect.disabled = true; // åˆå§‹ç‹€æ…‹ç¦ç”¨
        }

        // ç•¶é¸æ“‡åœ‹å®¶æ™‚ï¼Œæ›´æ–°ç¸£å¸‚/çœä»½é¸å–®
        function updateCountySelect(country) {
            const countySelect = document.getElementById('county');
            const districtSelect = document.getElementById('district');
            
            if (!countySelect || !districtSelect) {
                console.error('æ‰¾ä¸åˆ°ç¸£å¸‚æˆ–å€åŸŸé¸å–®å…ƒç´ ');
                return;
            }
            
            // æ¸…ç©ºé¸å–®
            countySelect.innerHTML = '<option value="">è«‹é¸æ“‡ç¸£å¸‚/çœä»½</option>';
            districtSelect.innerHTML = '<option value="">è«‹å…ˆé¸æ“‡ç¸£å¸‚/çœä»½</option>';
            districtSelect.disabled = true;
            
            if (!country) {
                countySelect.disabled = true;
                return;
            }
            
            // æ ¹æ“šåœ‹å®¶é¸æ“‡å¡«å……å°æ‡‰çš„æ•¸æ“š
            let locations = {};
            if (country === 'TW') {
                locations = taiwanLocations;
            } else if (country === 'CN') {
                locations = chinaLocations;
            }
            
            if (typeof locations === 'undefined' || Object.keys(locations).length === 0) {
                console.error('æ‰¾ä¸åˆ°å°æ‡‰çš„åœ°å€æ•¸æ“š');
                countySelect.disabled = true;
                return;
            }
            
            // å¡«å……ç¸£å¸‚/çœä»½é¸å–®
            const counties = Object.keys(locations);
            for (const county of counties) {
                const option = document.createElement('option');
                option.value = county;
                option.textContent = county;
                countySelect.appendChild(option);
            }
            
            countySelect.disabled = false;
            console.log('ç¸£å¸‚/çœä»½é¸å–®å·²æ›´æ–°ï¼Œå…± ' + counties.length + ' å€‹é¸é …');
        }

        // ç•¶é¸æ“‡ç¸£å¸‚/çœä»½æ™‚ï¼Œæ›´æ–°å€åŸŸ/åŸå¸‚é¸å–®
        function updateDistrictSelect(county) {
            const countrySelect = document.getElementById('country');
            const districtSelect = document.getElementById('district');
            
            if (!countrySelect || !districtSelect) {
                console.error('æ‰¾ä¸åˆ°åœ‹å®¶æˆ–å€åŸŸé¸å–®å…ƒç´ ');
                return;
            }
            
            districtSelect.innerHTML = '<option value="">è«‹é¸æ“‡å€åŸŸ/åŸå¸‚</option>';
            districtSelect.disabled = true;
            
            if (!county) {
                return;
            }
            
            const country = countrySelect.value;
            let locations = {};
            
            if (country === 'TW') {
                locations = taiwanLocations;
            } else if (country === 'CN') {
                locations = chinaLocations;
            }
            
            if (locations && locations[county]) {
                for (const district in locations[county]) {
                    const option = document.createElement('option');
                    option.value = district;
                    option.textContent = district;
                    districtSelect.appendChild(option);
                }
                districtSelect.disabled = false;
            }
        }

        // ç•¶é¸æ“‡å€åŸŸæ™‚ï¼Œæ›´æ–°ç¶“ç·¯åº¦
        function updateCoordinates(county, district) {
            const countrySelect = document.getElementById('country');
            const longitudeInput = document.getElementById('longitude');
            const latitudeInput = document.getElementById('latitude');
            
            if (!countrySelect || !longitudeInput || !latitudeInput) {
                console.error('æ‰¾ä¸åˆ°å¿…è¦çš„è¼¸å…¥æ¬„ä½');
                return;
            }
            
            const country = countrySelect.value;
            let locations = {};
            
            if (country === 'TW') {
                locations = taiwanLocations;
            } else if (country === 'CN') {
                locations = chinaLocations;
            }
            
            if (county && district && locations && locations[county] && locations[county][district]) {
                const location = locations[county][district];
                longitudeInput.value = location.longitude.toFixed(4);
                latitudeInput.value = location.latitude.toFixed(4);
                
                console.log('å·²æ›´æ–°ç¶“ç·¯åº¦:', {
                    country: country,
                    county: county,
                    district: district,
                    longitude: longitudeInput.value,
                    latitude: latitudeInput.value
                });
            } else {
                console.warn('ç„¡æ³•æ›´æ–°ç¶“ç·¯åº¦:', { 
                    country: country,
                    county, 
                    district, 
                    hasCounty: !!county, 
                    hasDistrict: !!district,
                    hasLocationData: !!(county && locations && locations[county]),
                    hasDistrictData: !!(county && district && locations && locations[county] && locations[county][district])
                });
            }
        }

        // ä¸­å¿ƒåç¨±æ˜ å°„
        const centerNameMap = {
            "Head": "head",
            "Ajna": "ajna",
            "Throat": "throat",
            "G": "g",
            "Ego": "ego",
            "Spleen": "spleen",
            "Sacral": "sacral",
            "Solar_Plexus": "solar-plexus",
            "Root": "root"
        };

        // é€šé“ ID æ˜ å°„å‡½æ•¸
        function getChannelId(gate1, gate2) {
            return `channel-${gate1}-${gate2}`;
        }

        // æ¸²æŸ“äººé¡åœ–çš„ä¸»è¦å‡½å¼
        function renderHumanDesign(data) {
            if (!data) {
                console.error("ç„¡æ•ˆçš„æ•¸æ“šæ ¼å¼");
                return;
            }

            // æ–‡å­—åˆ†æçµæœå·²ç§»é™¤

            // 2. æ¸²æŸ“è¡Œæ˜Ÿåˆ—è¡¨ï¼ˆå¦‚æœæ•¸æ“šåŒ…å«ï¼‰
            // æ³¨æ„ï¼šåƒæ•¸é †åºç‚º (personalityList, designList)
            // design_list é¡¯ç¤ºåœ¨å·¦å´ï¼Œpersonality_list é¡¯ç¤ºåœ¨å³å´
            if (data.design_list && data.personality_list) {
                renderPlanetLists(data.personality_list, data.design_list);
            } else {
                // å¦‚æœæ²’æœ‰æ•¸æ“šï¼Œé¡¯ç¤ºæç¤ºä¿¡æ¯
                const designContainer = document.getElementById('design-planet-list');
                const personalityContainer = document.getElementById('personality-planet-list');
                if (designContainer) {
                    designContainer.innerHTML = '<div style="text-align: center; padding: 20px; color: #666;">æ•¸æ“šæœªæä¾›</div>';
                }
                if (personalityContainer) {
                    personalityContainer.innerHTML = '<div style="text-align: center; padding: 20px; color: #666;">æ•¸æ“šæœªæä¾›</div>';
                }
            }
            
            // 3. æ¸²æŸ“åŸºå› å¤©å‘½ (Gene Keys)
            if (data.design_list && data.personality_list) {
                renderGeneKeys(data.personality_list, data.design_list);
            }
            
        }
        // æ¸²æŸ“åŸºå› å¤©å‘½ (Gene Keys) é»ƒé‡‘ä¹‹è·¯ - é‡æ§‹ç‰ˆæœ¬
        function renderGeneKeys(personalityList, designList) {
            const container = document.getElementById('gene-keys-container');
            const section = document.getElementById('gene-keys-section');
            
            if (!container || !section) {
                console.error('æ‰¾ä¸åˆ°åŸºå› å¤©å‘½å®¹å™¨');
                return;
            }
            
            // å¾è¡Œæ˜Ÿåˆ—è¡¨ä¸­æå–é—œéµæ•¸æ“š
            function findPlanet(list, planetName) {
                return list.find(p => p.planet === planetName);
            }
            
            // ç²å–é—œéµè¡Œæ˜Ÿæ•¸æ“š
            const personalitySun = findPlanet(personalityList, 'Sun');
            const personalityEarth = findPlanet(personalityList, 'Earth');
            const designSun = findPlanet(designList, 'Sun');
            const designEarth = findPlanet(designList, 'Earth');
            const personalityMoon = findPlanet(personalityList, 'Moon');
            const designMoon = findPlanet(designList, 'Moon');
            const personalityVenus = findPlanet(personalityList, 'Venus');
            const designVenus = findPlanet(designList, 'Venus');
            const personalityMars = findPlanet(personalityList, 'Mars');
            const designMars = findPlanet(designList, 'Mars');
            const personalityJupiter = findPlanet(personalityList, 'Jupiter');
            const designJupiter = findPlanet(designList, 'Jupiter');
            
            // åŸºå› å¤©å‘½ç¯€é»å®šç¾©ï¼ˆ5x5 ç¶²æ ¼ç³»çµ±ï¼‰
            // æ ¼å¼: { id, label, value, color, gridRow, gridCol, description }
            const geneKeyNodes = [
                // å‚ç›´ä¸­è»¸ (ç¬¬ 3 æ¬„)
                { id: 'personality-sun', label: 'é»‘å¤ªé™½', value: personalitySun?.gate_line || 'N/A', 
                  color: 'green', gridRow: 1, gridCol: 3, description: 'Life\'s Work', planet: 'Sun', type: 'personality' },
                { id: 'personality-jupiter', label: 'é»‘æœ¨æ˜Ÿ', value: personalityJupiter?.gate_line || 'N/A', 
                  color: 'blue', gridRow: 2, gridCol: 3, description: 'Pearl', planet: 'Jupiter', type: 'personality' },
                { id: 'design-venus', label: 'ç´…é‡‘æ˜Ÿ', value: designVenus?.gate_line || 'N/A', 
                  color: 'orange', gridRow: 3, gridCol: 3, description: 'SQ', planet: 'Venus', type: 'design' },
                { id: 'design-moon', label: 'ç´…æœˆäº®', value: designMoon?.gate_line || 'N/A', 
                  color: 'orange', gridRow: 4, gridCol: 3, description: 'Attraction', planet: 'Moon', type: 'design' },
                { id: 'design-earth', label: 'ç´…åœ°çƒ', value: designEarth?.gate_line || 'N/A', 
                  color: 'green', gridRow: 5, gridCol: 3, description: 'Purpose', planet: 'Earth', type: 'design' },
                
                // ä¸­å±¤å…©å´ (ç¬¬ 2, 4 æ¬„)
                { id: 'design-mars', label: 'ç´…ç«æ˜Ÿ', value: designMars?.gate_line || 'N/A', 
                  color: 'blue', gridRow: 2, gridCol: 2, description: 'Core', planet: 'Mars', type: 'design', transform: 'translate(20px, 60px)' },
                { id: 'design-jupiter', label: 'ç´…æœ¨æ˜Ÿ', value: designJupiter?.gate_line || 'N/A', 
                  color: 'blue', gridRow: 2, gridCol: 4, description: 'Culture', planet: 'Jupiter', type: 'design', transform: 'translate(-20px, 60px)' },
                { id: 'design-sun', label: 'ç´…å¤ªé™½', value: designSun?.gate_line || 'N/A', 
                  color: 'green', gridRow: 3, gridCol: 1, description: 'Radiance', planet: 'Sun', type: 'design' },
                { id: 'personality-earth', label: 'é»‘åœ°çƒ', value: personalityEarth?.gate_line || 'N/A', 
                  color: 'green', gridRow: 3, gridCol: 5, description: 'Evolution', planet: 'Earth', type: 'personality' },
                { id: 'personality-venus', label: 'é»‘é‡‘æ˜Ÿ', value: personalityVenus?.gate_line || 'N/A', 
                  color: 'orange', gridRow: 4, gridCol: 2, description: 'IQ', planet: 'Venus', type: 'personality', transform: 'translate(0, -70px)' },
                { id: 'personality-mars', label: 'é»‘ç«æ˜Ÿ', value: personalityMars?.gate_line || 'N/A', 
                  color: 'orange', gridRow: 4, gridCol: 4, description: 'EQ', planet: 'Mars', type: 'personality', transform: 'translate(0, -70px)' },
            ];
            
            // æ§‹å»ºé€£æ¥ç·šæ•¸æ“šï¼ˆæ ¹æ“šæŒ‡å®šçš„ä¸‰æ¢åºåˆ—è·¯å¾‘ï¼‰
            const connections = [
                // 1. å•Ÿå‹•åºåˆ— (Activation Sequence) - ç¶ è‰²é€£ç·š
                { from: 'design-sun', to: 'design-earth', color: 'green' },        // ç´…å¤ªé™½ â†’ ç´…åœ°çƒ
                { from: 'personality-sun', to: 'personality-earth', color: 'green' }, // é»‘å¤ªé™½ â†’ é»‘åœ°çƒ
                { from: 'personality-earth', to: 'design-sun', color: 'green' },   // é»‘åœ°çƒ â†’ ç´…å¤ªé™½
                { from: 'design-sun', to: 'personality-earth', color: 'green' },   // ç´…å¤ªé™½ â†’ é»‘åœ°çƒ
                { from: 'personality-earth', to: 'design-earth', color: 'green' }, // é»‘åœ°çƒ â†’ ç´…åœ°çƒ
                { from: 'design-earth', to: 'personality-earth', color: 'green' }, // ç´…åœ°çƒ â†’ é»‘åœ°çƒ
                
                // 2. é‡‘æ˜Ÿåºåˆ— (Venus Sequence) - ç´…è‰²é€£ç·š
                { from: 'personality-venus', to: 'personality-mars', color: 'red' }, // é»‘é‡‘æ˜Ÿ â†’ é»‘ç«æ˜Ÿ
                { from: 'personality-venus', to: 'design-moon', color: 'red' },      // é»‘é‡‘æ˜Ÿ â†’ ç´…æœˆäº®
                { from: 'design-moon', to: 'design-earth', color: 'red' },          // ç´…æœˆäº® â†’ ç´…åœ°çƒ
                { from: 'design-earth', to: 'design-moon', color: 'red' },          // ç´…åœ°çƒ â†’ ç´…æœˆäº®
                { from: 'design-venus', to: 'personality-mars', color: 'red' },    // ç´…é‡‘æ˜Ÿ â†’ é»‘ç«æ˜Ÿ
                
                // 3. çç åºåˆ— (Pearl Sequence) - è—è‰²é€£ç·š
                { from: 'design-venus', to: 'design-jupiter', color: 'blue' },     // ç´…é‡‘æ˜Ÿ â†’ ç´…æœ¨æ˜Ÿ
                { from: 'design-jupiter', to: 'personality-jupiter', color: 'blue' }, // ç´…æœ¨æ˜Ÿ â†’ é»‘æœ¨æ˜Ÿ
                { from: 'personality-jupiter', to: 'design-mars', color: 'blue' }, // é»‘æœ¨æ˜Ÿ â†’ ç´…ç«æ˜Ÿ
                { from: 'design-mars', to: 'design-venus', color: 'blue' },        // ç´…ç«æ˜Ÿ â†’ ç´…é‡‘æ˜Ÿ
                { from: 'design-mars', to: 'design-jupiter', color: 'blue' },      // ç´…ç«æ˜Ÿ â†’ ç´…æœ¨æ˜Ÿ
                { from: 'personality-sun', to: 'design-mars', color: 'blue' },     // é»‘å¤ªé™½ â†’ ç´…ç«æ˜Ÿ
                { from: 'personality-sun', to: 'design-jupiter', color: 'blue' },  // é»‘å¤ªé™½ â†’ ç´…æœ¨æ˜Ÿ
                { from: 'personality-jupiter', to: 'personality-sun', color: 'blue' }, // é»‘æœ¨æ˜Ÿ â†’ é»‘å¤ªé™½
            ];
            
            // å‰µå»ºå®¹å™¨ï¼ˆä½¿ç”¨ 5x5 ç¶²æ ¼ï¼‰
            const wrapper = document.createElement('div');
            wrapper.className = 'gene-keys-wrapper';
            
            // å‰µå»º SVG å±¤ï¼ˆæœ€åº•å±¤ï¼‰
            const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
            svg.setAttribute('class', 'gene-keys-svg');
            svg.setAttribute('width', '900');
            svg.setAttribute('height', '900');
            svg.setAttribute('viewBox', '0 0 900 900');
            
            // è¨ˆç®—æ¯å€‹ç¶²æ ¼å–®å…ƒçš„ä¸­å¿ƒé»ï¼ˆè€ƒæ…® gap å’Œ paddingï¼‰
            // ç¸½å°ºå¯¸: 900px, padding: 60px (å…©é‚Š), gap: 100px (4å€‹)
            // å–®å…ƒæ ¼å¯¬åº¦ = (900 - 2*60 - 4*100) / 5 = 76px
            const getCenterPoint = (gridRow, gridCol) => {
                const padding = 60;
                const gap = 100;
                const cellSize = (900 - 2 * padding - 4 * gap) / 5; // 76px
                
                // è¨ˆç®—ä¸­å¿ƒé»ï¼špadding + (col-1)*(cell+gap) + cell/2
                const x = padding + (gridCol - 1) * (cellSize + gap) + cellSize / 2;
                const y = padding + (gridRow - 1) * (cellSize + gap) + cellSize / 2;
                
                return { x, y };
            };
            
            // å‰µå»ºç¯€é»ä¸¦è¨˜éŒ„ä½ç½®
            const nodePositions = {};
            
            geneKeyNodes.forEach(node => {
                // å‰µå»ºç¯€é»å…ƒç´ 
                const nodeEl = document.createElement('div');
                nodeEl.className = `gene-key-sphere ${node.color}`;
                nodeEl.id = `gene-key-${node.id}`;
                
                // è¨­ç½®ç¶²æ ¼ä½ç½®
                nodeEl.style.gridRow = node.gridRow;
                nodeEl.style.gridColumn = node.gridCol;
                
                // å¦‚æœæœ‰ transform å±¬æ€§ï¼Œæ‡‰ç”¨å®ƒ
                if (node.transform) {
                    nodeEl.setAttribute('data-transform', node.transform);
                    nodeEl.style.transform = node.transform;
                    // ç‚ºäº† hover æ•ˆæœï¼Œä½¿ç”¨ CSS è®Šé‡ä¿å­˜åŸå§‹ transform
                    nodeEl.style.setProperty('--original-transform', node.transform + ' scale(1.15)');
                }
                
                // è§£æé–˜é–€å’Œçˆ»ç·š
                const gateLine = node.value.toString();
                const parts = gateLine.split('.');
                const gate = parts[0] || '';
                const line = parts[1] || '';
                
                // ç²å–æ˜Ÿåº§ç¬¦è™Ÿï¼ˆå¾åŸå§‹è¡Œæ˜Ÿæ•¸æ“šï¼‰
                let zodiac = '';
                const planetData = findPlanet(node.type === 'personality' ? personalityList : designList, node.planet);
                if (planetData && planetData.constellation_symbol) {
                    zodiac = planetData.constellation_symbol;
                }
                
                // ä½¿ç”¨èˆ‡åœ“å½¢åœ–è¡¨ç›¸åŒçš„æ ¼å¼é¡¯ç¤º
                nodeEl.innerHTML = `
                    <div class="planet-marker-name">${node.label}</div>
                    <div class="planet-marker-house"></div>
                    <div class="planet-marker-gate">${gate}</div>
                    <div class="planet-marker-line">${line}çˆ»</div>
                    <div class="planet-marker-zodiac">${zodiac}</div>
                `;
                
                wrapper.appendChild(nodeEl);
                
                // è¨˜éŒ„ç¯€é»ä¸­å¿ƒä½ç½®
                const center = getCenterPoint(node.gridRow, node.gridCol);
                nodePositions[node.id] = center;
            });
            
            // è¼”åŠ©å‡½æ•¸ï¼šç²å–é€£æ¥ç·šé¡è‰²
            function getConnectionColor(colorType) {
                switch(colorType) {
                    case 'blue': return '#3498db';  // çç åºåˆ— - è—è‰²
                    case 'green': return '#76a07b';  // å•Ÿå‹•åºåˆ— - ç¶ è‰²ï¼ˆèˆ‡çƒé«”é¡è‰²ä¸€è‡´ï¼‰
                    case 'red': return '#c0392b';    // é‡‘æ˜Ÿåºåˆ— - ç´…è‰²
                    default: return '#999';
                }
            }
            
            // ç¹ªè£½ SVG é€£æ¥ç·šçš„å‡½æ•¸
            function drawGeneKeyLines() {
                // æ¸…é™¤ä¹‹å‰çš„é€£ç·š
                svg.innerHTML = '';
                
                // ç²å– containerWrapper å…ƒç´ ï¼ˆé€šéæŸ¥æ‰¾åŒ…å« SVG çš„çˆ¶å…ƒç´ ï¼‰
                const svgParent = svg.parentElement;
                if (!svgParent) {
                    console.warn('æ‰¾ä¸åˆ° SVG çš„çˆ¶å…ƒç´ ');
                    return;
                }
                
                const containerWrapperRect = svgParent.getBoundingClientRect();
                
                // é‡æ–°è¨ˆç®—æ‰€æœ‰ç¯€é»çš„å¯¦éš›ä¸­å¿ƒä½ç½®ï¼ˆåŸºæ–¼ DOM å…ƒç´ ï¼‰
                const actualPositions = {};
                geneKeyNodes.forEach(node => {
                    const nodeEl = document.getElementById(`gene-key-${node.id}`);
                    if (nodeEl && svgParent) {
                        const nodeRect = nodeEl.getBoundingClientRect();
                        // è¨ˆç®—ç›¸å°æ–¼ SVG çš„åº§æ¨™ï¼ˆçƒé«”åœ“å¿ƒï¼‰
                        // SVG æ˜¯çµ•å°å®šä½åœ¨ containerWrapper å…§çš„ï¼Œæ‰€ä»¥ä½¿ç”¨ containerWrapper ä½œç‚ºåƒè€ƒ
                        actualPositions[node.id] = {
                            x: nodeRect.left - containerWrapperRect.left + nodeRect.width / 2,
                            y: nodeRect.top - containerWrapperRect.top + nodeRect.height / 2
                        };
                    } else {
                        // å¦‚æœ DOM é‚„æ²’æ¸²æŸ“ï¼Œä½¿ç”¨è¨ˆç®—çš„åº§æ¨™
                        actualPositions[node.id] = nodePositions[node.id];
                    }
                });
                
                // ç¹ªè£½ SVG é€£æ¥ç·šï¼ˆä½¿ç”¨ path å…ƒç´ ï¼‰
                connections.forEach(conn => {
                    const fromPos = actualPositions[conn.from] || nodePositions[conn.from];
                    const toPos = actualPositions[conn.to] || nodePositions[conn.to];
                    
                    if (!fromPos || !toPos) {
                        console.warn(`æ‰¾ä¸åˆ°ç¯€é»ä½ç½®: ${conn.from} -> ${conn.to}`);
                        return;
                    }
                    
                    // å‰µå»º SVG path å…ƒç´ 
                    const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                    
                    // ä½¿ç”¨ç°¡å–®çš„ç›´ç·šé€£æ¥çƒé«”åœ“å¿ƒ
                    const d = `M ${fromPos.x} ${fromPos.y} L ${toPos.x} ${toPos.y}`;
                    path.setAttribute('d', d);
                    path.setAttribute('class', `gene-key-path gene-key-path-${conn.color}`);
                    path.setAttribute('stroke', getConnectionColor(conn.color));
                    path.setAttribute('stroke-width', '4');
                    path.setAttribute('stroke-opacity', '0.5');
                    path.setAttribute('fill', 'none');
                    
                    svg.appendChild(path);
                });
                
                console.log('å·²ç¹ªè£½', connections.length, 'æ¢é€£æ¥ç·š');
            }
            
            // å°‡ SVG å’Œ wrapper æ”¾å…¥å®¹å™¨
            const containerWrapper = document.createElement('div');
            containerWrapper.style.position = 'relative';
            containerWrapper.className = 'gene-keys-container-wrapper';
            
            // æ ¹æ“šè¢å¹•å¯¬åº¦å‹•æ…‹è¨­ç½®å°ºå¯¸
            const isMobile = window.innerWidth <= 768;
            if (isMobile) {
                // æ‰‹æ©Ÿç‰ˆï¼šè¨­ç½®å›ºå®šæœ€å°å°ºå¯¸ï¼Œå…è¨±æ©«å‘æ»¾å‹•
                const minWidth = window.innerWidth <= 480 ? 450 : 500;
                const minHeight = minWidth;
                
                containerWrapper.style.width = 'auto';
                containerWrapper.style.minWidth = minWidth + 'px';
                containerWrapper.style.height = minHeight + 'px';
                containerWrapper.style.margin = '0 auto';
                
                // èª¿æ•´ wrapper ç¶²æ ¼ - å›ºå®šå°ºå¯¸ç¢ºä¿å®Œæ•´é¡¯ç¤º
                wrapper.style.width = minWidth + 'px';
                wrapper.style.height = minHeight + 'px';
                wrapper.style.margin = '0 auto';
                wrapper.style.padding = window.innerWidth <= 480 ? '8px 3px' : '10px 5px';
                wrapper.style.gap = window.innerWidth <= 480 ? '6px' : '8px';
                
                // èª¿æ•´ SVG - ä½¿ç”¨å›ºå®šå°ºå¯¸
                svg.setAttribute('width', minWidth);
                svg.setAttribute('height', minHeight);
                svg.setAttribute('viewBox', `0 0 ${minWidth} ${minHeight}`);
                svg.style.width = minWidth + 'px';
                svg.style.height = minHeight + 'px';
            } else {
                containerWrapper.style.width = '900px';
                containerWrapper.style.height = '900px';
                containerWrapper.style.margin = '-20px auto 0 -30px';
            }
            
            // å…ˆæ·»åŠ  SVGï¼ˆåº•å±¤ï¼‰
            containerWrapper.appendChild(svg);
            // å†æ·»åŠ  wrapperï¼ˆä¸Šå±¤ï¼‰
            containerWrapper.appendChild(wrapper);
            
            container.innerHTML = '';
            container.appendChild(containerWrapper);
            section.style.display = 'block';
            
            // åœ¨æ‰€æœ‰ç¯€é»æ¸²æŸ“å®Œæˆå¾Œç¹ªè£½é€£ç·šï¼ˆå»¶é²æ›´é•·ä»¥ç¢ºä¿ DOM å®Œå…¨æ¸²æŸ“ï¼‰
            setTimeout(() => {
                drawGeneKeyLines();
            }, 200);

            // ç›£è½è¦–çª—å¤§å°è®ŠåŒ–ï¼Œé‡æ–°ç¹ªè£½é€£ç·š
            let resizeTimeout;
            const handleResize = () => {
                clearTimeout(resizeTimeout);
                resizeTimeout = setTimeout(() => {
                    const isMobileNow = window.innerWidth <= 768;
                    
                    if (isMobileNow) {
                        // æ‰‹æ©Ÿç‰ˆï¼šé‡æ–°è¨ˆç®—å›ºå®šå°ºå¯¸
                        const minWidth = window.innerWidth <= 480 ? 450 : 500;
                        const minHeight = minWidth;
                        
                        containerWrapper.style.width = 'auto';
                        containerWrapper.style.minWidth = minWidth + 'px';
                        containerWrapper.style.height = minHeight + 'px';
                        
                        wrapper.style.width = minWidth + 'px';
                        wrapper.style.height = minHeight + 'px';
                        wrapper.style.padding = window.innerWidth <= 480 ? '8px 3px' : '10px 5px';
                        wrapper.style.gap = window.innerWidth <= 480 ? '6px' : '8px';
                        
                        svg.setAttribute('width', minWidth);
                        svg.setAttribute('height', minHeight);
                        svg.setAttribute('viewBox', `0 0 ${minWidth} ${minHeight}`);
                        svg.style.width = minWidth + 'px';
                        svg.style.height = minHeight + 'px';
                    } else {
                        // æ¡Œé¢ç‰ˆï¼šæ¢å¾©åŸå§‹å°ºå¯¸
                        containerWrapper.style.width = '900px';
                        containerWrapper.style.height = '900px';
                        containerWrapper.style.margin = '-20px auto 0 -30px';
                        
                        wrapper.style.width = '900px';
                        wrapper.style.height = '900px';
                        wrapper.style.margin = '-20px auto 0 -30px';
                        wrapper.style.padding = '60px';
                        wrapper.style.gap = '100px';
                        
                        svg.setAttribute('width', '900');
                        svg.setAttribute('height', '900');
                        svg.setAttribute('viewBox', '0 0 900 900');
                    }
                    
                    // é‡æ–°ç¹ªè£½é€£ç·š
                    drawGeneKeyLines();
                    console.log('è¦–çª—å¤§å°æ”¹è®Šï¼Œé‡æ–°ç¹ªè£½é€£ç·š');
                }, 200);
            };

            // æ·»åŠ  resize äº‹ä»¶ç›£è½å™¨
            window.addEventListener('resize', handleResize);

            // ç›£è½è¢å¹•æ–¹å‘è®ŠåŒ–ï¼ˆæ‰‹æ©Ÿæ—‹è½‰ï¼‰
            window.addEventListener('orientationchange', () => {
                setTimeout(handleResize, 300);
            });

            // å°‡ drawGeneKeyLines æš´éœ²çµ¦å…¨åŸŸï¼Œä»¥ä¾¿å…¶ä»–åœ°æ–¹å¯ä»¥èª¿ç”¨
            window.redrawGeneKeyLines = drawGeneKeyLines;
            
            // ç›£è½æ»¾å‹•å’Œç¸®æ”¾äº‹ä»¶ï¼Œè‡ªå‹•é‡æ–°ç¹ªè£½ç·šæ¢
            const container = document.getElementById('gene-keys-container');
            if (container) {
                let scrollTimeout;
                let resizeTimeout;
                
                // ç›£è½æ»¾å‹•äº‹ä»¶ï¼ˆç•¶æ»¾å‹•çµæŸæ™‚é‡æ–°ç¹ªè£½ï¼‰
                container.addEventListener('scroll', () => {
                    clearTimeout(scrollTimeout);
                    scrollTimeout = setTimeout(() => {
                        if (window.redrawGeneKeyLines) {
                            window.redrawGeneKeyLines();
                        }
                    }, 150); // æ»¾å‹•çµæŸå¾Œ 150ms é‡æ–°ç¹ªè£½
                }, { passive: true });
                
                // ç›£è½å®¹å™¨å¤§å°è®ŠåŒ–ï¼ˆç¸®æ”¾æ™‚ï¼‰
                const resizeObserver = new ResizeObserver(() => {
                    clearTimeout(resizeTimeout);
                    resizeTimeout = setTimeout(() => {
                        if (window.redrawGeneKeyLines) {
                            window.redrawGeneKeyLines();
                        }
                    }, 150);
                });
                
                resizeObserver.observe(container);
                
                // ç›£è½è§¸æ§çµæŸäº‹ä»¶ï¼ˆé›™æŒ‡ç¸®æ”¾çµæŸæ™‚ï¼‰
                let touchEndTimeout;
                container.addEventListener('touchend', () => {
                    clearTimeout(touchEndTimeout);
                    touchEndTimeout = setTimeout(() => {
                        if (window.redrawGeneKeyLines) {
                            window.redrawGeneKeyLines();
                        }
                    }, 300); // è§¸æ§çµæŸå¾Œ 300ms é‡æ–°ç¹ªè£½
                }, { passive: true });
            }
        }

        // æ¸²æŸ“æ–‡å­—çµæœï¼ˆå·²ç§»é™¤ï¼‰

        // æ¸²æŸ“è¡Œæ˜Ÿåˆ—è¡¨åˆ°å´é‚Šæ¬„
        function renderPlanetLists(personalityList, designList) {
            // è¡Œæ˜Ÿ Unicode åœ–æ¨™æ˜ å°„
            const planetIcons = {
                'Sun': 'â˜‰',
                'Earth': 'âŠ•',
                'Moon': 'â˜½',
                'North Node': 'â˜Š',
                'South Node': 'â˜‹',
                'Mercury': 'â˜¿',
                'Venus': 'â™€',
                'Mars': 'â™‚',
                'Jupiter': 'â™ƒ',
                'Saturn': 'â™„',
                'Uranus': 'â™…',
                'Neptune': 'â™†',
                'Pluto': 'â™‡'
            };
            
            // è¡Œæ˜Ÿåç¨±ä¸­æ–‡æ˜ å°„ï¼ˆä¿ç•™ä½œç‚ºå‚™ç”¨ï¼‰
            const planetNames = {
                'Sun': 'å¤ªé™½',
                'Earth': 'åœ°çƒ',
                'Moon': 'æœˆäº®',
                'North Node': 'åŒ—äº¤',
                'South Node': 'å—äº¤',
                'Mercury': 'æ°´æ˜Ÿ',
                'Venus': 'é‡‘æ˜Ÿ',
                'Mars': 'ç«æ˜Ÿ',
                'Jupiter': 'æœ¨æ˜Ÿ',
                'Saturn': 'åœŸæ˜Ÿ',
                'Uranus': 'å¤©ç‹æ˜Ÿ',
                'Neptune': 'æµ·ç‹æ˜Ÿ',
                'Pluto': 'å†¥ç‹æ˜Ÿ'
            };

            // è¼”åŠ©å‡½æ•¸ï¼šæ ¼å¼åŒ–é–˜é–€.çˆ»ç·šé¡¯ç¤ºï¼ˆåˆ†é–‹é¡¯ç¤ºï¼Œçˆ»ç·šè¼ƒå°ï¼Œä¸¦åŒ…å«æ˜Ÿåº§ç¬¦è™Ÿå’Œç®­é ­ï¼‰
            function formatGateLine(planet, showArrow = true) {
                if (!planet.gate_line) return '';
                const parts = planet.gate_line.toString().split('.');
                if (parts.length === 2) {
                    const gate = parts[0];
                    const line = parts[1];
                    const zodiac = planet.constellation_symbol || '';
                    const arrow = (showArrow && planet.arrow_direction) || '';
                    
                    // ç®­é ­é¡è‰²ï¼šâ–²ç¶ è‰²ï¼Œâ–¼ç´…è‰²
                    let arrowHtml = '';
                    if (arrow === 'â–²') {
                        arrowHtml = `<span class="arrow-ascending" title="é †è¡Œé«˜é »">â–²</span>`;
                    } else if (arrow === 'â–¼') {
                        arrowHtml = `<span class="arrow-descending" title="é€†è¡Œ">â–¼</span>`;
                    }
                    
                    return `
                        ${zodiac ? `<span class="zodiac-symbol">${zodiac}</span>` : ''}
                        <span class="gate-number">${gate}</span>
                        <span class="gate-separator">.</span>
                        <span class="line-number">${line}</span>
                        ${arrowHtml}
                    `;
                }
                // å¦‚æœæ ¼å¼ä¸æ­£ç¢ºï¼Œè¿”å›åŸå§‹å€¼
                return `<span class="gate-number">${planet.gate_line}</span>`;
            }

            // æ¸²æŸ“è¨­è¨ˆå±¤ï¼ˆDesign/å·¦å´ï¼‰- ä½¿ç”¨ design_list
            const designContainer = document.getElementById('design-planet-list');
            if (designContainer && designList && Array.isArray(designList)) {
                let html = '';
                designList.forEach(planet => {
                    const planetName = planetNames[planet.planet] || planet.planet;
                    const planetIcon = planetIcons[planet.planet] || planet.planet.charAt(0);
                    const gateLineHtml = formatGateLine(planet, true);
                    html += `
                        <div class="planet-item">
                            <div class="planet-icon">${planetIcon}</div>
                            <div class="planet-name">${planetName}</div>
                            <div class="planet-gate-line">${gateLineHtml}</div>
                        </div>
                    `;
                });
                designContainer.innerHTML = html || '<div style="text-align: center; padding: 20px; color: #666;">ç„¡æ•¸æ“š</div>';
            } else if (designContainer) {
                designContainer.innerHTML = '<div style="text-align: center; padding: 20px; color: #666;">ç­‰å¾…æ•¸æ“š...</div>';
            }

            // æ¸²æŸ“æ„è­˜å±¤ï¼ˆPersonality/å³å´ï¼‰- ä½¿ç”¨ personality_list
            const personalityContainer = document.getElementById('personality-planet-list');
            if (personalityContainer && personalityList && Array.isArray(personalityList)) {
                let html = '';
                personalityList.forEach(planet => {
                    const planetName = planetNames[planet.planet] || planet.planet;
                    const planetIcon = planetIcons[planet.planet] || planet.planet.charAt(0);
                    const gateLineHtml = formatGateLine(planet, true);
                    html += `
                        <div class="planet-item">
                            <div class="planet-icon">${planetIcon}</div>
                            <div class="planet-name">${planetName}</div>
                            <div class="planet-gate-line">${gateLineHtml}</div>
                        </div>
                    `;
                });
                personalityContainer.innerHTML = html || '<div style="text-align: center; padding: 20px; color: #666;">ç„¡æ•¸æ“š</div>';
            } else if (personalityContainer) {
                personalityContainer.innerHTML = '<div style="text-align: center; padding: 20px; color: #666;">ç­‰å¾…æ•¸æ“š...</div>';
            }
        }

        // é¡¯ç¤ºè¨Šæ¯
        function showMessage(message, type = 'error') {
            const messageArea = document.getElementById('message-area');
            const className = type === 'error' ? 'error-message' : 'success-message';
            messageArea.innerHTML = `<div class="${className}">${message}</div>`;
            setTimeout(() => {
                messageArea.innerHTML = '';
            }, 5000);
        }

        // è¡¨å–®æäº¤è™•ç†
        document.getElementById('birth-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const calculateBtn = document.getElementById('calculate-btn');
            const resultsContainer = document.getElementById('results-container');
            const messageArea = document.getElementById('message-area');
            
            // é©—è­‰æ˜¯å¦é¸æ“‡äº†åœ‹å®¶ã€ç¸£å¸‚/çœä»½å’Œå€åŸŸ/åŸå¸‚
            const country = document.getElementById('country').value;
            const county = document.getElementById('county').value;
            const district = document.getElementById('district').value;
            if (!country || !county || !district) {
                showMessage('è«‹é¸æ“‡åœ‹å®¶/åœ°å€ã€ç¸£å¸‚/çœä»½å’Œå€åŸŸ/åŸå¸‚', 'error');
                return;
            }
            
            // æ”¶é›†è¡¨å–®æ•¸æ“š
            const longitudeInput = document.getElementById('longitude');
            const latitudeInput = document.getElementById('latitude');
            const formData = {
                year: parseInt(document.getElementById('year').value),
                month: parseInt(document.getElementById('month').value),
                day: parseInt(document.getElementById('day').value),
                time: document.getElementById('time').value,
                timezone: document.getElementById('timezone').value.trim(),
                longitude: parseFloat(longitudeInput.value),
                latitude: parseFloat(latitudeInput.value)
            };

            // é©—è­‰æ•¸æ“š
            if (!formData.time || !formData.time.match(/^\d{2}:\d{2}$/)) {
                showMessage('è«‹è¼¸å…¥æœ‰æ•ˆçš„æ™‚é–“æ ¼å¼ (HH:MM)', 'error');
                return;
            }

            // ç¢ºä¿ç¶“ç·¯åº¦å·²æ ¹æ“šé¸æ“‡çš„ç¸£å¸‚å€åŸŸæ›´æ–°
            if (county && district) {
                // å¼·åˆ¶æ›´æ–°ä¸€æ¬¡ï¼Œç¢ºä¿ä½¿ç”¨æœ€æ–°çš„é¸æ“‡
                updateCoordinates(county, district);
                // é‡æ–°è®€å–æ›´æ–°å¾Œçš„å€¼
                formData.longitude = parseFloat(longitudeInput.value);
                formData.latitude = parseFloat(latitudeInput.value);
            }
            
            // é©—è­‰ç¶“ç·¯åº¦æ˜¯å¦æœ‰æ•ˆ
            if (isNaN(formData.longitude) || isNaN(formData.latitude)) {
                showMessage('ç¶“ç·¯åº¦æ•¸æ“šç„¡æ•ˆï¼Œè«‹é‡æ–°é¸æ“‡ç¸£å¸‚å’Œå€åŸŸ', 'error');
                return;
            }

            console.log('æäº¤è¡¨å–®æ•¸æ“š:', formData);

            // ç¦ç”¨æŒ‰éˆ•ï¼Œé¡¯ç¤ºè¼‰å…¥ç‹€æ…‹
            calculateBtn.disabled = true;
            calculateBtn.textContent = 'è¨ˆç®—ä¸­...';
            messageArea.innerHTML = '';

            try {
                // ç™¼é€ POST è«‹æ±‚åˆ°å¾Œç«¯ï¼ˆFlask APIï¼‰
                const response = await fetch('/calculate_hd', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(formData)
                });

                // æª¢æŸ¥éŸ¿æ‡‰ç‹€æ…‹
                if (!response.ok) {
                    // å˜—è©¦è§£æéŒ¯èª¤éŸ¿æ‡‰
                    let errorText = '';
                    try {
                        const errorResult = await response.json();
                        errorText = errorResult.error || `HTTP ${response.status}`;
                    } catch (e) {
                        errorText = await response.text() || `HTTP ${response.status}`;
                    }
                    showMessage(`ä¼ºæœå™¨éŒ¯èª¤: ${errorText}`, 'error');
                    return;
                }

                const result = await response.json();

                if (result.status === 'success' && result.data) {
                    // é¡¯ç¤ºçµæœå€åŸŸ
                    resultsContainer.classList.remove('hidden');
                    
                    // æ¸²æŸ“è¦–è¦ºåŒ–
                    renderHumanDesign(result.data);
                    
                    showMessage('è¨ˆç®—å®Œæˆï¼', 'success');
                } else {
                    showMessage(result.error || 'è¨ˆç®—å¤±æ•—ï¼Œè«‹æª¢æŸ¥è¼¸å…¥æ•¸æ“š', 'error');
                }
            } catch (error) {
                console.error('éŒ¯èª¤:', error);
                let errorMessage = 'ç„¡æ³•é€£æ¥åˆ°ä¼ºæœå™¨ã€‚è«‹ç¢ºä¿å¾Œç«¯æœå‹™æ­£åœ¨é‹è¡Œã€‚';
                if (error.message) {
                    errorMessage += ` (${error.message})`;
                }
                showMessage(errorMessage, 'error');
            } finally {
                // æ¢å¾©æŒ‰éˆ•ç‹€æ…‹
                calculateBtn.disabled = false;
                calculateBtn.textContent = 'è¨ˆç®—äººé¡åœ–';
            }
        });

        // é é¢è¼‰å…¥æ™‚åˆå§‹åŒ–
        function initializePage() {
            // åˆå§‹åŒ–ç¸£å¸‚é¸å–®
            initializeCountySelect();
            
            // è¨­ç½®äº‹ä»¶ç›£è½å™¨
            const countrySelect = document.getElementById('country');
            const countySelect = document.getElementById('county');
            const districtSelect = document.getElementById('district');
            
            if (countrySelect && countySelect && districtSelect) {
                // åœ‹å®¶é¸æ“‡è®Šæ›´äº‹ä»¶
                countrySelect.addEventListener('change', function() {
                    const country = this.value;
                    updateCountySelect(country);
                    // æ¸…ç©ºç¸£å¸‚å’Œå€åŸŸé¸å–®
                    countySelect.value = '';
                    districtSelect.value = '';
                    // é‡ç½®ç¶“ç·¯åº¦
                    const longitudeInput = document.getElementById('longitude');
                    const latitudeInput = document.getElementById('latitude');
                    if (longitudeInput) longitudeInput.value = country === 'TW' ? '121.5' : '116.4';
                    if (latitudeInput) latitudeInput.value = country === 'TW' ? '25.0' : '39.9';
                });
                
                // ç¸£å¸‚/çœä»½é¸æ“‡è®Šæ›´äº‹ä»¶
                countySelect.addEventListener('change', function() {
                    const county = this.value;
                    updateDistrictSelect(county);
                    // æ¸…ç©ºç¶“ç·¯åº¦ï¼ˆç­‰å¾…é¸æ“‡å€åŸŸå¾Œå†æ›´æ–°ï¼‰
                    if (!county) {
                        const longitudeInput = document.getElementById('longitude');
                        const latitudeInput = document.getElementById('latitude');
                        const country = countrySelect.value;
                        if (longitudeInput) longitudeInput.value = country === 'TW' ? '121.5' : '116.4';
                        if (latitudeInput) latitudeInput.value = country === 'TW' ? '25.0' : '39.9';
                    }
                });

                // å€åŸŸ/åŸå¸‚é¸æ“‡è®Šæ›´äº‹ä»¶
                districtSelect.addEventListener('change', function() {
                    const county = countySelect.value;
                    const district = this.value;
                    console.log('é¸æ“‡äº†å€åŸŸ/åŸå¸‚:', { country: countrySelect.value, county, district });
                    if (county && district) {
                        updateCoordinates(county, district);
                    }
                });
            }

        // é‡ç½®æŒ‰éˆ•
            const resetBtn = document.getElementById('reset-btn');
            if (resetBtn) {
                resetBtn.addEventListener('click', function() {
            document.getElementById('birth-form').reset();
            document.getElementById('message-area').innerHTML = '';
            document.getElementById('results-container').classList.add('hidden');
                    initializeCountySelect();
                });
            }
        }

        // ç¢ºä¿ DOM è¼‰å…¥å¾ŒåŸ·è¡Œåˆå§‹åŒ–
        (function() {
            let initialized = false;
            
            function init() {
                if (initialized) {
                    console.log('å·²ç¶“åˆå§‹åŒ–éï¼Œè·³é');
                    return;
                }
                
                try {
                    console.log('é–‹å§‹åˆå§‹åŒ–é é¢...');
                    console.log('DOM readyState:', document.readyState);
                    console.log('taiwanLocations æ˜¯å¦å­˜åœ¨:', typeof taiwanLocations !== 'undefined');
                    
                    // æª¢æŸ¥å¿…è¦å…ƒç´ æ˜¯å¦å­˜åœ¨
                    const countySelect = document.getElementById('county');
                    if (!countySelect) {
                        console.log('ç¸£å¸‚é¸å–®å…ƒç´ å°šæœªå­˜åœ¨ï¼Œç­‰å¾… DOM è¼‰å…¥...');
                        if (document.readyState === 'loading') {
                            document.addEventListener('DOMContentLoaded', init);
                        } else {
                            // å¦‚æœ DOM å·²è¼‰å…¥ä½†å…ƒç´ ä¸å­˜åœ¨ï¼Œç¨å¾Œå†è©¦
                            setTimeout(init, 100);
                        }
                        return;
                    }
                    
                    if (typeof taiwanLocations === 'undefined') {
                        console.error('taiwanLocations æœªå®šç¾©ï¼');
                        // ç¨å¾Œå†è©¦
                        setTimeout(init, 100);
                        return;
                    }
                    
                    console.log('æ‰€æœ‰æ¢ä»¶æ»¿è¶³ï¼ŒåŸ·è¡Œåˆå§‹åŒ–');
                    initializePage();
                    initialized = true;
                } catch (error) {
                    console.error('åˆå§‹åŒ–éŒ¯èª¤:', error);
                    // ç™¼ç”ŸéŒ¯èª¤æ™‚ï¼Œç¨å¾Œå†è©¦ä¸€æ¬¡
                    setTimeout(init, 500);
                }
            }
            
            // å¤šç¨®æ–¹å¼ç¢ºä¿åˆå§‹åŒ–åŸ·è¡Œ
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', init);
            } else {
                // DOM å·²è¼‰å…¥ï¼Œç«‹å³åŸ·è¡Œ
                init();
            }
            
            // å‚™ç”¨ï¼šå¦‚æœä¸Šè¿°æ–¹æ³•éƒ½å¤±æ•—ï¼Œåœ¨ window.onload æ™‚å†è©¦ä¸€æ¬¡
            window.addEventListener('load', function() {
                if (!initialized) {
                    console.log('ä½¿ç”¨ window.onload å‚™ç”¨åˆå§‹åŒ–');
                    init();
                }
            });
        })();
    </script>
</body>
</html>


